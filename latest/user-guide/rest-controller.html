<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.15">
<meta name="description" content="A modern, JVM-based, full stack framework designed to develop distributed reactive applications that use a microservice architecture.">
<meta name="keywords" content="rx, rxmicro, reactive java, reactive jvm, microservice java, reactive microservice, micro service java, reactive micro service">
<meta name="author" content="nedis">
<title>REST Controller</title>
<link rel="stylesheet" href="../styles/rxmicro-doc.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body id="rest-controller-section" class="article toc2 toc-left">
<div id="header">
<h1>REST Controller</h1>
<div class="details">
<span id="author" class="author">nedis</span><br>
<span id="email" class="email"><a href="mailto:rxmicro.io@gmail.com">rxmicro.io@gmail.com</a></span><br>
<span id="revnumber">version 0.11,</span>
<span id="revdate">2022-12-14 20:00:09 UTC</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#rest_controller_implementation_requirements">1. REST Controller Implementation Requirements.</a>
<ul class="sectlevel2">
<li><a href="#rest_controller_class_requirements">1.1. REST Controller Class Requirements.</a></li>
<li><a href="#http_request_handler_requirements">1.2. HTTP Request Handler Requirements.</a></li>
</ul>
</li>
<li><a href="#rest-controller-annotations-section">2. <code>RxMicro Annotations</code></a></li>
<li><a href="#return_types">3. Return Types</a>
<ul class="sectlevel2">
<li><a href="#supported_return_types_for_http_response_without_body">3.1. Supported Return Types for HTTP Response without Body</a></li>
<li><a href="#supported_return_types_for_http_response_with_body">3.2. Supported Return Types for HTTP Response with Body</a></li>
</ul>
</li>
<li><a href="#routing_of_requests">4. Routing of Requests</a>
<ul class="sectlevel2">
<li><a href="#routing_of_requests_based_on_http_method">4.1. Routing of Requests Based on HTTP Method</a></li>
<li><a href="#routing_of_requests_based_on_url_path">4.2. Routing of Requests Based on URL Path</a></li>
<li><a href="#routing_of_requests_based_on_http_body">4.3. Routing of Requests Based on HTTP Body</a></li>
</ul>
</li>
<li><a href="#rest-controller-not-found-section">5. <code>Not Found</code> Logic</a></li>
<li><a href="#rest-controller-errors-section">6. Exceptions Usage</a>
<ul class="sectlevel2">
<li><a href="#basic_class_of_exceptions">6.1. Basic Class of Exceptions</a></li>
<li><a href="#using_the_user_defined_exceptions">6.2. Using the User Defined Exceptions</a></li>
<li><a href="#error_signal_generation_methods">6.3. Error Signal Generation Methods</a></li>
<li><a href="#predefined_classes_of_exceptions">6.4. Predefined Classes of Exceptions</a></li>
</ul>
</li>
<li><a href="#rest-controller-set-status-code-section">7. Overriding the Status Code</a></li>
<li><a href="#rest-controller-redirect-section">8. Redirecting of Requests</a></li>
<li><a href="#rest-controller-headers-basic">9. HTTP Headers Support</a>
<ul class="sectlevel2">
<li><a href="#basic_rules">9.1. Basic Rules</a></li>
<li><a href="#supported_data_types">9.2. Supported Data Types</a></li>
<li><a href="#rest-controller-headers-static">9.3. Static HTTP headers</a></li>
<li><a href="#rest-controller-headers-repeating">9.4. Repeating HTTP headers</a></li>
</ul>
</li>
<li><a href="#rest-controller-params-basic">10. HTTP Parameters Handling</a>
<ul class="sectlevel2">
<li><a href="#basic_rules_2">10.1. Basic Rules</a></li>
<li><a href="#supported_data_types_2">10.2. Supported Data Types</a></li>
<li><a href="#complex_model_support">10.3. Complex Model Support</a></li>
</ul>
</li>
<li><a href="#rest-controller-path-variables-basic">11. The <code>path variables</code> Support</a>
<ul class="sectlevel2">
<li><a href="#basic_rules_3">11.1. Basic Rules</a></li>
<li><a href="#supported_data_types_3">11.2. Supported Data Types</a></li>
</ul>
</li>
<li><a href="#rest-controller-internals-basic-section">12. Support of Internal Data Types</a>
<ul class="sectlevel2">
<li><a href="#basic_rules_4">12.1. Basic Rules</a></li>
<li><a href="#supported_internal_data_types">12.2. Supported Internal Data Types</a></li>
</ul>
</li>
<li><a href="#rest-controller-versioning-section">13. Versioning of REST Controllers</a>
<ul class="sectlevel2">
<li><a href="#versioning_based_on_http_header_analysis">13.1. Versioning Based on HTTP Header Analysis</a></li>
<li><a href="#versioning_based_on_url_path_fragment_analysis">13.2. Versioning Based on URL Path Fragment Analysis</a></li>
</ul>
</li>
<li><a href="#rest-controller-base-url-path-section">14. Base URL Path for All Handlers</a></li>
<li><a href="#rest-controller-cors-section">15. <code>CORS</code> Support</a></li>
<li><a href="#rest-controller-request-id-section">16. Request ID</a></li>
<li><a href="#rest-controller-rest-server-generator-config-section">17. Configuring the Code Generation Process</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="core.html#core-section"><strong><span class="icon"><i class="fa fa-angle-double-left"></i></span> Core Concepts</strong></a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="index.html#index-section"><strong><span class="icon"><i class="fa fa-angle-double-up"></i></span> Home</strong></a></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><a href="rest-client.html#rest-client-section"><strong>REST Client  <span class="icon"><i class="fa fa-angle-double-right"></i></span></strong></a></p></td>
</tr>
</tbody>
</table>
<hr>
<div class="paragraph">
<p>&#169; 2019-2022 rxmicro.io.
Free use of this software is granted under the terms of the <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/LICENSE" target="_blank" rel="noopener"><code>Apache License 2.0</code></a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Copies of this entity may be made for Your own use and for distribution to others, provided that You do not charge any fee for such copies and further provided that each copy contains this Copyright Notice, whether distributed in print or electronically.</p>
</div>
<div class="paragraph">
<p>If You find errors or omissions in this entity, please donâ€™t hesitate to submit an
<a href="https://github.com/rxmicro/rxmicro-usage/issues" target="_blank" rel="noopener"><strong>issue</strong></a> or open <a href="https://github.com/rxmicro/rxmicro-usage/pulls" target="_blank" rel="noopener"><strong>a pull request</strong></a> with a fix.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>REST Controller is a class that contains at least one declarative HTTP request handler.</p>
</div>
<div class="paragraph">
<p>Each REST-based microservice project must contain at least one REST Controller.<br>
<em>(The REST Controller is the entry point for the client.)</em></p>
</div>
<div class="paragraph">
<p>To create REST controllers, the RxMicro framework provides the following modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://github.com/rxmicro/rxmicro/tree/v0.11/rxmicro-rest" target="_blank" rel="noopener"><code>rxmicro.rest</code></a> is a basic module that defines basic <code>RxMicro Annotations</code>, required when using the
<a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener"><code>REST</code></a> architecture of building program systems;</p>
</li>
<li>
<p>The <a href="https://github.com/rxmicro/rxmicro/tree/v0.11/rxmicro-rest-server" target="_blank" rel="noopener"><code>rxmicro.rest.server</code></a> is a basic HTTP server module used to create REST controllers and run REST-based microservices;</p>
</li>
<li>
<p>The <a href="https://github.com/rxmicro/rxmicro/tree/v0.11/rxmicro-rest-server-netty" target="_blank" rel="noopener"><code>rxmicro.rest.server.netty</code></a> is an HTTP server implementation module based on <a href="https://netty.io/" target="_blank" rel="noopener"><code>Netty</code></a>;</p>
</li>
<li>
<p>The <a href="https://github.com/rxmicro/rxmicro/tree/v0.11/rxmicro-rest-server-exchange-json" target="_blank" rel="noopener"><code>rxmicro.rest.server.exchange.json</code></a> is a module for converting Java models to <a href="https://www.json.org/" target="_blank" rel="noopener"><code>JSON</code></a> format and vice versa;</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Due to transit dependencies only two modules usually need to be added to a project:
<a href="https://github.com/rxmicro/rxmicro/tree/v0.11/rxmicro-rest-server-netty" target="_blank" rel="noopener"><code>rxmicro.rest.server.netty</code></a> and <a href="https://github.com/rxmicro/rxmicro/tree/v0.11/rxmicro-rest-server-exchange-json" target="_blank" rel="noopener"><code>rxmicro.rest.server.exchange.json</code></a>.<br>
<em>(All other modules are automatically added to the project!)</em></p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="rest_controller_implementation_requirements"><a class="anchor" href="#rest_controller_implementation_requirements"></a><a class="link" href="#rest_controller_implementation_requirements">1. REST Controller Implementation Requirements.</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="rest_controller_class_requirements"><a class="anchor" href="#rest_controller_class_requirements"></a><a class="link" href="#rest_controller_class_requirements">1.1. REST Controller Class Requirements.</a></h3>
<div class="paragraph">
<p>REST Controller is a Java class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">import io.rxmicro.rest.method.GET;

final class MicroService {

    @GET("/")
    void requestHandler() {

    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>that must meet the following requirements:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The class must extend the <code>java.lang.Object</code> one.</p>
</li>
<li>
<p>The class couldn&#8217;t be an <code>abstract</code> one.</p>
</li>
<li>
<p>The class couldn&#8217;t be a nested one.</p>
</li>
<li>
<p>The class must contain an accessible (not private) constructor without parameters.<br>
<em>(The last requirement can be ignored if Your project depends on <a href="cdi.html#{cdi-section}"><code>rxmicro.cdi</code></a> module.)</em></p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A REST Controller class must be a public one, only if it contains the method: <code>public static void main(final String[] args)</code>.
Otherwise, a REST Controller class can be nonpublic.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="http_request_handler_requirements"><a class="anchor" href="#http_request_handler_requirements"></a><a class="link" href="#http_request_handler_requirements">1.2. HTTP Request Handler Requirements.</a></h3>
<div class="paragraph">
<p>HTTP request handler is a method, that must meet the following requirements:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The method couldn&#8217;t be a <code>private</code> one.</p>
</li>
<li>
<p>The method couldn&#8217;t be an <code>abstract</code> one.</p>
</li>
<li>
<p>The method couldn&#8217;t be a <code>synchronized</code> one.</p>
</li>
<li>
<p>The method couldn&#8217;t be a <code>static</code> one.</p>
</li>
<li>
<p>The method couldn&#8217;t be a <code>native</code> one.</p>
</li>
<li>
<p>The method must be annotated by at least one of the following annotations:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/GET.java" target="_blank" rel="noopener"><code>GET</code></a>;</p>
</li>
<li>
<p><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/POST.java" target="_blank" rel="noopener"><code>POST</code></a>;</p>
</li>
<li>
<p><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/PUT.java" target="_blank" rel="noopener"><code>PUT</code></a>;</p>
</li>
<li>
<p><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/DELETE.java" target="_blank" rel="noopener"><code>DELETE</code></a>;</p>
</li>
<li>
<p><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/PATCH.java" target="_blank" rel="noopener"><code>PATCH</code></a>;</p>
</li>
<li>
<p><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/HEAD.java" target="_blank" rel="noopener"><code>HEAD</code></a>;</p>
</li>
<li>
<p><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/OPTIONS.java" target="_blank" rel="noopener"><code>OPTIONS</code></a>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>The method must return a <code>void</code> type or one of the following reactive types:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html" target="_blank" rel="noopener"><code>CompletableFuture</code></a>;</p>
</li>
<li>
<p><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" target="_blank" rel="noopener"><code>CompletionStage</code></a>;</p>
</li>
<li>
<p><a href="https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html" target="_blank" rel="noopener"><code>Mono</code></a>;</p>
</li>
<li>
<p><a href="http://reactivex.io/RxJava/javadoc/io/reactivex/Completable.html" target="_blank" rel="noopener"><code>Completable</code></a>;</p>
</li>
<li>
<p><a href="http://reactivex.io/RxJava/javadoc/io/reactivex/Single.html" target="_blank" rel="noopener"><code>Single</code></a>;</p>
</li>
<li>
<p><a href="http://reactivex.io/RxJava/javadoc/io/reactivex/Maybe.html" target="_blank" rel="noopener"><code>Maybe</code></a>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>If the method returns a reactive type, that this type must be parametrized by a HTTP response model type.
(The additional types such as <code>java.lang.Void</code> and <code>java.util.Optional</code> are supported also.
<em>(Read more: <a href="core.html#core-reactive-bussiness-process-reactive-class-mapping-table">core.html</a>)</em>).</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The
<a href="https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html" target="_blank" rel="noopener"><code>Flux</code></a> and
<a href="http://reactivex.io/RxJava/javadoc/io/reactivex/Flowable.html" target="_blank" rel="noopener"><code>Flowable</code></a>
types are developed to handle data stream that may arrive within a certain period of time.</p>
</div>
<div class="paragraph">
<p>For such cases the HTTP protocol provides the special <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Transfer-Encoding" target="_blank" rel="noopener"><code>Transfer-Encoding</code></a> mechanism.</p>
</div>
<div class="paragraph">
<p>But this mechanism is not supported by the RxMicro framework yet, so the
<a href="https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html" target="_blank" rel="noopener"><code>Flux</code></a> and
<a href="http://reactivex.io/RxJava/javadoc/io/reactivex/Flowable.html" target="_blank" rel="noopener"><code>Flowable</code></a>
types cannot be used in the HTTP request handler.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The RxMicro framework supports the following parameter types for the HTTP request handler:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Handler without parameters.<br>
<em>(This type is recommended for the simplest <code>stateless</code> microservices without parameters.)</em></p>
</li>
<li>
<p>List of primitive parameters.<br>
<em>(This type is recommended for microservices, the behavior of which depends on 1-2 parameters.)</em></p>
</li>
<li>
<p>Custom class modeling an HTTP request.<br>
<em>(This type is recommended for microservices, the behavior of which depends on 3 or more parameters.)</em></p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When using the
<a href="https://projectreactor.io/docs/core/release/reference/index.html" target="_blank" rel="noopener"><strong>Project Reactor</strong></a> and <a href="https://github.com/ReactiveX/RxJava/blob/3.x/README.md" target="_blank" rel="noopener"><strong>RxJava</strong></a>
reactive libraries, You need:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add dependencies to <code>pom.xml</code>.</p>
</li>
<li>
<p>Add modules to <code>module-info.java</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Adding dependencies to <code>pom.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;
        &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;
        &lt;version&gt;${projectreactor.version}&lt;/version&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;io.reactivex.rxjava3&lt;/groupId&gt;
        &lt;artifactId&gt;rxjava&lt;/artifactId&gt;
        &lt;version&gt;${rxjava.version}&lt;/version&gt; <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><a href="https://mvnrepository.com/artifact/io.projectreactor/reactor-core" target="_blank" rel="noopener">The latest stable version of the <code>Project Reactor</code> library</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><a href="https://mvnrepository.com/artifact/io.reactivex.rxjava3/rxjava" target="_blank" rel="noopener">The latest stable version of the <code>RxJava3</code> library</a>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Adding modules to <code>module-info.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">module example {
    requires reactor.core; <i class="conum" data-value="1"></i><b>(1)</b>
    requires io.reactivex.rxjava3; <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>reactor.core</code> module when using the <a href="https://projectreactor.io/docs/core/release/reference/index.html" target="_blank" rel="noopener"><strong>Project Reactor</strong></a> library.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>io.reactivex.rxjava3</code> module when using the <a href="https://github.com/ReactiveX/RxJava/blob/3.x/README.md" target="_blank" rel="noopener"><strong>RxJava</strong></a> library.</td>
</tr>
</table>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-annotations-section"><a class="anchor" href="#rest-controller-annotations-section"></a><a class="link" href="#rest-controller-annotations-section">2. <code>RxMicro Annotations</code></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The RxMicro framework supports the following <code>RxMicro Annotations</code>, which are used to create and configure REST Controllers.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Supported <code>RxMicro Annotations</code>.</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Annotation</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/GET.java" target="_blank" rel="noopener"><code>@GET</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes a method, that must handle a <code>GET</code> HTTP request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/POST.java" target="_blank" rel="noopener"><code>@POST</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes a method, that must handle a <code>POST</code> HTTP request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/PUT.java" target="_blank" rel="noopener"><code>@PUT</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes a method, that must handle a <code>PUT</code> HTTP request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/DELETE.java" target="_blank" rel="noopener"><code>@DELETE</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes a method, that must handle a <code>DELETE</code> HTTP request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/PATCH.java" target="_blank" rel="noopener"><code>@PATCH</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes a method, that must handle a <code>PATCH</code> HTTP request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/HEAD.java" target="_blank" rel="noopener"><code>@HEAD</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes a method, that must handle a <code>HEAD</code> HTTP request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/method/OPTIONS.java" target="_blank" rel="noopener"><code>@OPTIONS</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes a method, that must handle a <code>OPTIONS</code> HTTP request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/BaseUrlPath.java" target="_blank" rel="noopener"><code>@BaseUrlPath</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes <a href="#rest-controller-base-url-path-section">a base URL path for the all request handlers at the REST controller</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/Version.java" target="_blank" rel="noopener"><code>@Version</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes <a href="#rest-controller-versioning-section">a version of the REST controller</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/Header.java" target="_blank" rel="noopener"><code>@Header</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that a field of Java model class is <a href="#rest-controller-headers-basic">a HTTP header</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/HeaderMappingStrategy.java" target="_blank" rel="noopener"><code>@HeaderMappingStrategy</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declares <a href="#rest-controller-headers-basic">a strategy of header name formation based on Java model field name analysis</a>.</p>
<p class="tableblock"><em>(By default, the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-model/src/main/java/io/rxmicro/model/MappingStrategy.java#L76" target="_blank" rel="noopener"><code>CAPITALIZE_WITH_HYPHEN</code></a> strategy is used.
Thus, by using this strategy, the <code>Header-Name</code> name header corresponds to the <code>headerName</code> field name.)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/AddHeader.java" target="_blank" rel="noopener"><code>@AddHeader</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes <a href="#rest-controller-headers-static">a static HTTP header</a> that must be added to the response, created by the request handler.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/SetHeader.java" target="_blank" rel="noopener"><code>@SetHeader</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes <a href="#rest-controller-headers-static">a static HTTP header</a> that must be set to the response, created by the request handler.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RepeatHeader.java" target="_blank" rel="noopener"><code>@RepeatHeader</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes the header, <a href="#rest-controller-headers-repeating">which name needs to be repeated for each element in the list</a>.</p>
<p class="tableblock"><em>(This annotation applies only to fields with the <code>java.util.List&lt;?&gt;</code> type.)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/Parameter.java" target="_blank" rel="noopener"><code>@Parameter</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that a field of Java model class is <a href="#rest-controller-headers-basic">a HTTP parameter</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/ParameterMappingStrategy.java" target="_blank" rel="noopener"><code>@ParameterMappingStrategy</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declares <a href="#rest-controller-params-basic">a strategy of parameter name formation based on Java model field name analysis</a>.</p>
<p class="tableblock"><em>(By default, the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-model/src/main/java/io/rxmicro/model/MappingStrategy.java#L41" target="_blank" rel="noopener"><code>LOWERCASE_WITH_UNDERSCORED</code></a> strategy is used.
Thus, by using this strategy, the <code>header_name</code> name header corresponds to the <code>headerName</code> field name.)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/PathVariable.java" target="_blank" rel="noopener"><code>@PathVariable</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that a field of Java model class is <a href="#rest-controller-path-variables-basic">a <code>path variable</code></a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RemoteAddress.java" target="_blank" rel="noopener"><code>@RemoteAddress</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declares the Java model field as a field, in which the RxMicro framework must inject <a href="#rest-controller-internals-basic-section">the remote client connection address</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RequestMethod.java" target="_blank" rel="noopener"><code>@RequestMethod</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declares the Java model field as a field, in which the RxMicro framework must inject <a href="#rest-controller-internals-basic-section">a method of the received request</a>.</p>
<p class="tableblock"><em>(This feature is useful for request logging when one handler supports different HTTP methods.)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RequestUrlPath.java" target="_blank" rel="noopener"><code>@RequestUrlPath</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declares the Java model field as a field, in which the RxMicro framework must inject <a href="#rest-controller-internals-basic-section"><code>URL path</code> of the received request</a>.</p>
<p class="tableblock"><em>(This feature is useful for request logging using <code>path-variables</code>.)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RequestBody.java" target="_blank" rel="noopener"><code>@RequestBody</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declares the Java model field as a field, in which the RxMicro framework must inject <a href="#rest-controller-internals-basic-section">a body of the received request</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/ResponseStatusCode.java" target="_blank" rel="noopener"><code>@ResponseStatusCode</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates to the RxMicro framework that the value of the Java model field should be used as <a href="#rest-controller-internals-basic-section">a status code to be sent to the client</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/ResponseBody.java" target="_blank" rel="noopener"><code>@ResponseBody</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates to the RxMicro framework that the value of the Java model field should be used as <a href="#rest-controller-internals-basic-section">a body to be sent to the client</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RequestId.java" target="_blank" rel="noopener"><code>@RequestId</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declares the Java model field as a field, in which the RxMicro framework must inject <a href="#rest-controller-request-id-section">a unique request ID</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest-server/src/main/java/io/rxmicro/rest/server/SetStatusCode.java" target="_blank" rel="noopener"><code>@SetStatusCode</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declares <a href="#rest-controller-set-status-code-section">a status code</a>, which should be sent to the client in case of successful execution of the HTTP request handler.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest-server/src/main/java/io/rxmicro/rest/server/NotFoundMessage.java" target="_blank" rel="noopener"><code>@NotFoundMessage</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declares a message returned by the handler in case of <a href="#rest-controller-not-found-section">no result</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest-server/src/main/java/io/rxmicro/rest/server/RestServerGeneratorConfig.java" target="_blank" rel="noopener"><code>@RestServerGeneratorConfig</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows <a href="#rest-controller-rest-server-generator-config-section">to configure the process of code generation by the <code>RxMicro Annotation Processor</code> for REST controllers</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest-server/src/main/java/io/rxmicro/rest/server/feature/EnableCrossOriginResourceSharing.java" target="_blank" rel="noopener"><code>@EnableCrossOriginResourceSharing</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activates the <a href="#rest-controller-cors-section"><code>Cross Origin Resource Sharing</code> for all request handlers in the REST controller</a>.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="return_types"><a class="anchor" href="#return_types"></a><a class="link" href="#return_types">3. Return Types</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The HTTP request handler supports two categories of returned results:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTP response without body;</p>
</li>
<li>
<p>HTTP response with body;</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="supported_return_types_for_http_response_without_body"><a class="anchor" href="#supported_return_types_for_http_response_without_body"></a><a class="link" href="#supported_return_types_for_http_response_without_body">3.1. Supported Return Types for HTTP Response without Body</a></h3>
<div class="paragraph">
<p>The RxMicro framework supports the following return result types for an HTTP response without body:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class RestControllerWithoutBody {

    <i class="conum" data-value="1"></i><b>(1)</b>
    @GET("/void/void1")
    void void1() {
        //do something
    }

    @GET("/void/void2")
    void void2(final Request request) {
        //do something with request
    }

    @GET("/void/void3")
    void void3(final String requestParameter) {
        //do something with requestParameter
    }

    <i class="conum" data-value="2"></i><b>(2)</b>

    @GET("/jse/completedFuture1")
    CompletableFuture&lt;Void&gt; completedFuture1() {
        return CompletableFuture.completedFuture(null);
    }

    @GET("/jse/completedFuture2")
    CompletableFuture&lt;Void&gt; completedFuture1(final Request request) {
        return CompletableFuture.completedFuture(null);
    }

    @GET("/jse/completedFuture3")
    CompletableFuture&lt;Void&gt; completedFuture1(final String requestParameter) {
        return CompletableFuture.completedFuture(null);
    }

    <i class="conum" data-value="3"></i><b>(3)</b>

    @GET("/jse/completionStage1")
    CompletionStage&lt;Void&gt; completionStage1() {
        return CompletableFuture.completedStage(null);
    }

    @GET("/jse/completionStage2")
    CompletionStage&lt;Void&gt; completionStage2(final Request request) {
        return CompletableFuture.completedStage(null);
    }

    @GET("/jse/completionStage3")
    CompletionStage&lt;Void&gt; completionStage3(final String requestParameter) {
        return CompletableFuture.completedStage(null);
    }

    <i class="conum" data-value="4"></i><b>(4)</b>

    @GET("/spring-reactor/mono1")
    Mono&lt;Void&gt; mono1() {
        return Mono.just("").then();
    }

    @GET("/spring-reactor/mono2")
    Mono&lt;Void&gt; mono2(final String requestParameter) {
        return Mono.just("").then();
    }

    @GET("/spring-reactor/mono3")
    Mono&lt;Void&gt; mono4(final Request request) {
        return Mono.just("").then();
    }

    <i class="conum" data-value="5"></i><b>(5)</b>

    @GET("/rxjava3/completable1")
    Completable completable1() {
        return Completable.complete();
    }

    @GET("/rxjava3/completable2")
    Completable completable2(final Request request) {
        return Completable.complete();
    }

    @GET("/rxjava3/completable3")
    Completable completable3(final String requestParameter) {
        return Completable.complete();
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>void</code> type is supported mainly for test purposes.<br>
<em>(The <code>void</code> type can also be applied when the request handler does not use any <a href="core.html#core-dont-block-current-thread">blocking operations</a>.
In cases where the request handler uses <a href="core.html#core-dont-block-current-thread">blocking operations</a>, one of the reactive types must be used instead of the <code>void</code> type.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html" target="_blank" rel="noopener"><code>CompletableFuture&lt;Void&gt;</code></a>
type is recommended when using the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/package-summary.html" target="_blank" rel="noopener"><strong>java.util.concurrent</strong></a> library.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Instead of the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html" target="_blank" rel="noopener"><code>CompletableFuture&lt;Void&gt;</code></a> type, can also be used the
<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" target="_blank" rel="noopener"><code>CompletionStage&lt;Void&gt;</code></a> type.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>When using the <a href="https://projectreactor.io/docs/core/release/reference/index.html" target="_blank" rel="noopener"><strong>Project Reactor</strong></a> library, only the
<a href="https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html" target="_blank" rel="noopener"><code>Mono&lt;Void&gt;</code></a> type can be used.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>When using the <a href="https://github.com/ReactiveX/RxJava/blob/3.x/README.md" target="_blank" rel="noopener"><strong>RxJava</strong></a> library, only the
<a href="http://reactivex.io/RxJava/javadoc/io/reactivex/Completable.html" target="_blank" rel="noopener"><code>Completable</code></a> type can be used.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All the above mentioned handlers return an HTTP response without body:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(RestControllerWithoutBody.class)
final class RestControllerWithoutBodyTest {

    private BlockingHttpClient blockingHttpClient;

    @ParameterizedTest
    @ValueSource(strings = {
            "/void/void1",
            "/void/void2",
            "/void/void3",

            "/jse/completedFuture1",
            "/jse/completedFuture2",
            "/jse/completedFuture3",

            "/jse/completionStage1",
            "/jse/completionStage2",
            "/jse/completionStage3",

            "/spring-reactor/mono1",
            "/spring-reactor/mono2",
            "/spring-reactor/mono3",

            "/rxjava3/completable1",
            "/rxjava3/completable2",
            "/rxjava3/completable3"
    })
    void Should_support_HTTP_responses_without_body(final String urlPath) {
        final ClientHttpResponse response = blockingHttpClient.get(urlPath);

        assertTrue(response.isBodyEmpty(), "Body not empty: " + response.getBody()); <i class="conum" data-value="1"></i><b>(1)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>When testing all <code>RestControllerWithoutBody</code> class handlers, each handler returns an HTTP response without body.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The RxMicro framework recommends for request handlers that depend on 3 or more
HTTP headers, HTTP parameters or <code>path variables</code>
to create separate classes of request model.</p>
</div>
<div class="paragraph">
<p><strong>Upon implementation of</strong>
<strong>HTTP headers, HTTP parameters or <code>path variables</code></strong>
<strong>directly into the handler, the code becomes hard to read!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-handlers" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-handlers</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="supported_return_types_for_http_response_with_body"><a class="anchor" href="#supported_return_types_for_http_response_with_body"></a><a class="link" href="#supported_return_types_for_http_response_with_body">3.2. Supported Return Types for HTTP Response with Body</a></h3>
<div class="paragraph">
<p>The RxMicro framework supports the following return result types for an HTTP response with body:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class RestControllerWithBody {

    <i class="conum" data-value="1"></i><b>(1)</b>

    @GET("/jse/completedFuture1")
    CompletableFuture&lt;Response&gt; completedFuture1() {
        return CompletableFuture.completedFuture(new Response());
    }

    @GET("/jse/completedFuture2")
    CompletableFuture&lt;Response&gt; completedFuture2(final Request request) {
        return CompletableFuture.completedFuture(new Response());
    }

    @GET("/jse/completedFuture3")
    CompletableFuture&lt;Response&gt; completedFuture3(final String requestParameter) {
        return CompletableFuture.completedFuture(new Response());
    }

    @GET("/jse/completedFuture4")
    CompletableFuture&lt;Optional&lt;Response&gt;&gt; completedFuture4() {
        return CompletableFuture.completedFuture(Optional.of(new Response()));
    }

    @GET("/jse/completedFuture5")
    CompletableFuture&lt;Optional&lt;Response&gt;&gt; completedFuture5(final Request request) {
        return CompletableFuture.completedFuture(Optional.of(new Response()));
    }

    @GET("/jse/completedFuture6")
    CompletableFuture&lt;Optional&lt;Response&gt;&gt; completedFuture6(final String requestParameter) {
        return CompletableFuture.completedFuture(Optional.of(new Response()));
    }

    <i class="conum" data-value="2"></i><b>(2)</b>

    @GET("/jse/completionStage1")
    CompletionStage&lt;Response&gt; completionStage1() {
        return CompletableFuture.completedStage(new Response());
    }

    @GET("/jse/completionStage2")
    CompletionStage&lt;Response&gt; completionStage2(final Request request) {
        return CompletableFuture.completedStage(new Response());
    }

    @GET("/jse/completionStage3")
    CompletionStage&lt;Response&gt; completionStage3(final String requestParameter) {
        return CompletableFuture.completedStage(new Response());
    }

    @GET("/jse/completionStage4")
    CompletionStage&lt;Optional&lt;Response&gt;&gt; completionStage4() {
        return CompletableFuture.completedStage(Optional.of(new Response()));
    }

    @GET("/jse/completionStage5")
    CompletionStage&lt;Optional&lt;Response&gt;&gt; completionStage5(final Request request) {
        return CompletableFuture.completedStage(Optional.of(new Response()));
    }

    @GET("/jse/completionStage6")
    CompletionStage&lt;Optional&lt;Response&gt;&gt; completionStage6(final String requestParameter) {
        return CompletableFuture.completedStage(Optional.of(new Response()));
    }

    <i class="conum" data-value="3"></i><b>(3)</b>

    @GET("/spring-reactor/mono1")
    Mono&lt;Response&gt; mono1() {
        return Mono.just(new Response());
    }

    @GET("/spring-reactor/mono2")
    Mono&lt;Response&gt; mono2(final Request request) {
        return Mono.just(new Response());
    }

    @GET("/spring-reactor/mono3")
    Mono&lt;Response&gt; mono3(final String requestParameter) {
        return Mono.just(new Response());
    }

    <i class="conum" data-value="4"></i><b>(4)</b>

    @GET("/rxjava3/single1")
    Single&lt;Response&gt; single1() {
        return Single.just(new Response());
    }

    @GET("/rxjava3/single2")
    Single&lt;Response&gt; single2(final Request request) {
        return Single.just(new Response());
    }

    @GET("/rxjava3/single3")
    Single&lt;Response&gt; single3(final String requestParameter) {
        return Single.just(new Response());
    }

    @GET("/rxjava3/maybe1")
    Maybe&lt;Response&gt; maybe1() {
        return Maybe.just(new Response());
    }

    @GET("/rxjava3/maybe2")
    Maybe&lt;Response&gt; maybe2(final Request request) {
        return Maybe.just(new Response());
    }

    @GET("/rxjava3/maybe3")
    Maybe&lt;Response&gt; maybe3(final String requestParameter) {
        return Maybe.just(new Response());
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html" target="_blank" rel="noopener"><code>CompletableFuture&lt;MODEL&gt;</code></a>
type is recommended when using the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/package-summary.html" target="_blank" rel="noopener"><strong>java.util.concurrent</strong></a> library.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Instead of the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html" target="_blank" rel="noopener"><code>CompletableFuture&lt;MODEL&gt;</code></a> type, can also be used the
<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletionStage.html" target="_blank" rel="noopener"><code>CompletionStage&lt;MODEL&gt;</code></a> type.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>When using the <a href="https://projectreactor.io/docs/core/release/reference/index.html" target="_blank" rel="noopener"><strong>Project Reactor</strong></a> library, only the
<a href="https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html" target="_blank" rel="noopener"><code>Mono&lt;MODEL&gt;</code></a> type can be used.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>When using the <a href="https://github.com/ReactiveX/RxJava/blob/3.x/README.md" target="_blank" rel="noopener"><strong>RxJava</strong></a> library, the
<a href="http://reactivex.io/RxJava/javadoc/io/reactivex/Single.html" target="_blank" rel="noopener"><code>Single&lt;MODEL&gt;</code></a> or
<a href="http://reactivex.io/RxJava/javadoc/io/reactivex/Maybe.html" target="_blank" rel="noopener"><code>Maybe&lt;MODEL&gt;</code></a> can be used.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Note that the reactive types must be parameterized by the HTTP response model class!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All the above mentioned handlers return an HTTP response with body:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(RestControllerWithBody.class)
final class RestControllerWithBodyTest {

    private BlockingHttpClient blockingHttpClient;

    @ParameterizedTest
    @ValueSource(strings = {
            "/jse/completedFuture1",
            "/jse/completedFuture2",
            "/jse/completedFuture3",
            "/jse/completedFuture4",
            "/jse/completedFuture5",
            "/jse/completedFuture6",

            "/jse/completionStage1",
            "/jse/completionStage2",
            "/jse/completionStage3",
            "/jse/completionStage4",
            "/jse/completionStage5",
            "/jse/completionStage6",

            "/spring-reactor/mono1",
            "/spring-reactor/mono2",
            "/spring-reactor/mono3",

            "/rxjava3/single1",
            "/rxjava3/single2",
            "/rxjava3/single3",

            "/rxjava3/maybe1",
            "/rxjava3/maybe2",
            "/rxjava3/maybe3"
    })
    void Should_support_HTTP_responses_with_body(final String urlPath) {
        final ClientHttpResponse response = blockingHttpClient.get(urlPath);

        assertEquals(
                jsonObject("message", "Hello World!"), <i class="conum" data-value="1"></i><b>(1)</b>
                response.getBody()
        );
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>When testing all <code>RestControllerWithBody</code> class handlers, each handler returns an HTTP response containing a JSON object, with the <code>Hello World!</code> message.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-handlers" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-handlers</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="routing_of_requests"><a class="anchor" href="#routing_of_requests"></a><a class="link" href="#routing_of_requests">4. Routing of Requests</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The RxMicro framework supports request routing based on HTTP method, URL Path and HTTP body:</p>
</div>
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="routing_of_requests_based_on_http_method"><a class="anchor" href="#routing_of_requests_based_on_http_method"></a><a class="link" href="#routing_of_requests_based_on_http_method">4.1. Routing of Requests Based on HTTP Method</a></h3>
<div class="paragraph">
<p>The RxMicro framework allows handling identical HTTP requests, differing <strong>only</strong> in HTTP method, by different handlers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class RoutingUsingHTTPMethod {

    @GET("/")
    void get() {
        System.out.println("GET");
    }

    @HEAD("/")
    void head() {
        System.out.println("HEAD");
    }

    @OPTIONS("/")
    void options() {
        System.out.println("OPTIONS");
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(RoutingUsingHTTPMethod.class)
final class RoutingUsingHTTPMethodTest {

    private BlockingHttpClient blockingHttpClient;

    private SystemOut systemOut;

    @ParameterizedTest
    @ValueSource(strings = {"GET", "HEAD", "OPTIONS"})
    void Should_route_to_valid_request_handler(final String method) {
        blockingHttpClient.send(method, "/");
        assertEquals(method, systemOut.asString());
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-routing" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-routing</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="routing_of_requests_based_on_url_path"><a class="anchor" href="#routing_of_requests_based_on_url_path"></a><a class="link" href="#routing_of_requests_based_on_url_path">4.2. Routing of Requests Based on URL Path</a></h3>
<div class="paragraph">
<p>The RxMicro framework allows handling HTTP requests on different URL Paths by different handlers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class RoutingUsingUrlPath {

    @GET("/urlPath1")
    void get1() {
        System.out.println("/urlPath1");
    }

    @GET("/urlPath2")
    void get2() {
        System.out.println("/urlPath2");
    }

    @GET("/${type}")
    void get3(final @PathVariable String type) { <i class="conum" data-value="1"></i><b>(1)</b>
        System.out.println("/${type}: " + type);
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>In addition to static URL Paths, the RxMicro framework also supports <a href="#rest-controller-path-variables-basic"><code>path variables</code>.</a></td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(RoutingUsingUrlPath.class)
final class RoutingUsingUrlPathTest {

    private BlockingHttpClient blockingHttpClient;

    private SystemOut systemOut;

    @ParameterizedTest
    @CsvSource({
            "/urlPath1,     /urlPath1",
            "/urlPath2,     /urlPath2",
            "/urlPath3,     /${type}: urlPath3",
            "/put,          /${type}: put",
            "/get,          /${type}: get"
    })
    void Should_route_to_valid_request_handler(final String urlPath,
                                               final String expectedOut) {
        blockingHttpClient.get(urlPath);
        assertEquals(expectedOut, systemOut.asString());
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-routing" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-routing</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="routing_of_requests_based_on_http_body"><a class="anchor" href="#routing_of_requests_based_on_http_body"></a><a class="link" href="#routing_of_requests_based_on_http_body">4.3. Routing of Requests Based on HTTP Body</a></h3>
<div class="paragraph">
<p>Some HTTP methods allows transferring request parameters both in the start line and in the request body.</p>
</div>
<div class="paragraph">
<p>Therefore, in addition to standard routing types, the RxMicro framework also supports routing based on the HTTP body availability:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class RoutingUsingHttpBody {

    @GET("/")
    @HEAD("/")
    @OPTIONS("/")
    @DELETE("/")
    @PATCH("/")
    @POST(value = "/", httpBody = false)
    @PUT(value = "/", httpBody = false)
    void handleRequestsWithoutBody(final String parameter) { <i class="conum" data-value="1"></i><b>(1)</b>
        System.out.println("without body");
    }

    @PATCH(value = "/", httpBody = true)
    @POST("/")
    @PUT("/")
    void handleRequestsWithBody(final String parameter) { <i class="conum" data-value="2"></i><b>(2)</b>
        System.out.println("with body");
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The request handler with parameters transferred in the start line.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The request handler with parameters transferred in the request body.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For the <code>GET</code>, <code>HEAD</code>, <code>OPTIONS</code> and <code>DELETE</code> HTTP methods, the request parameters are <strong>always</strong> transferred in the start line.</p>
</div>
<div class="paragraph">
<p>For the <code>POST</code>, <code>PUT</code> and <code>PATCH</code> HTTP methods, the request parameters can be transferred both in the start line and in the request body.
<em>(To configure the parameter transfer type, the <code>httpBody</code> option is used.)</em></p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(RoutingUsingHttpBody.class)
final class RoutingUsingHttpBodyTest {

    private BlockingHttpClient blockingHttpClient;

    private SystemOut systemOut;

    @ParameterizedTest
    @ValueSource(strings = {"GET", "HEAD", "POST", "PUT", "PATCH", "OPTIONS", "DELETE"})
    void Should_route_to_handleRequestsWithoutBody(final String method) {
        blockingHttpClient.send(
                method,
                "/?parameter=test" <i class="conum" data-value="1"></i><b>(1)</b>
        );
        assertEquals("without body", systemOut.asString());
    }

    @ParameterizedTest
    @ValueSource(strings = {"POST", "PUT", "PATCH"})
    void Should_route_to_handleRequestsWithBody(final String method) {
        blockingHttpClient.send(
                method,
                "/",
                jsonObject("parameter", "test") <i class="conum" data-value="2"></i><b>(2)</b>
        );
        assertEquals("with body", systemOut.asString());
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Parameter transfer in the start line.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Parameter transfer in the request body as JSON object.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-routing" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-routing</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-not-found-section"><a class="anchor" href="#rest-controller-not-found-section"></a><a class="link" href="#rest-controller-not-found-section">5. <code>Not Found</code> Logic</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The RxMicro framework supports <code>Not Found</code> Logic for HTTP request handlers.</p>
</div>
<div class="paragraph">
<p>To activate this feature it&#8217;s necessary to return a reactive type that supports <a href="core.html#core-reactive-bussiness-process-result-types-section">optional result</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class NotFoundMicroService {

    @GET("/get1")
    CompletableFuture&lt;Optional&lt;Response&gt;&gt; getOptional1(final Boolean found) { <i class="conum" data-value="1"></i><b>(1)</b>
        return completedFuture(found ? Optional.of(new Response()) : Optional.empty());
    }

    @GET("/get2")
    Mono&lt;Response&gt; getOptional2(final Boolean found) { <i class="conum" data-value="2"></i><b>(2)</b>
        return found ? Mono.just(new Response()) : Mono.empty();
    }

    @GET("/get3")
    Maybe&lt;Response&gt; getOptional3(final Boolean found) { <i class="conum" data-value="3"></i><b>(3)</b>
        return found ? Maybe.just(new Response()) : Maybe.empty();
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>When using <code>CompletableFuture</code>/<code>CompletionStage</code> it is necessary to use the
<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html" target="_blank" rel="noopener"><code>java.util.Optional</code></a> contract, since the <code>CompletableFuture</code>/<code>CompletionStage</code> reactive types do not support optional result by default.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Unlike <code>CompletableFuture</code>/<code>CompletionStage</code>, the <code>Mono</code> reactive type supports optional result.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Unlike <code>CompletableFuture</code>/<code>CompletionStage</code>, the <code>Maybe</code> reactive type also supports optional result.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When handling requests, the RxMicro framework checks the handler result:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the handler returns a response model, the RxMicro framework will convert it to an HTTP response with the <code>200</code> status and JSON representation of this model.</p>
</li>
<li>
<p>If the handler returns an empty result, the RxMicro framework generates an HTTP response with the <code>404</code> and the standard <code>"Not Found"</code> error message.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(NotFoundMicroService.class)
final class NotFoundMicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    @ParameterizedTest
    @ValueSource(strings = {"/get1", "/get2", "/get3"})
    void Should_return_found_response(final String urlPath) {
        final ClientHttpResponse response = blockingHttpClient.get(urlPath + "?found=true");

        assertEquals(jsonObject("message", "Hello World!"), response.getBody()); <i class="conum" data-value="1"></i><b>(1)</b>
        assertEquals(200, response.getStatusCode()); <i class="conum" data-value="1"></i><b>(1)</b>
    }

    @ParameterizedTest
    @ValueSource(strings = {"/get1", "/get2", "/get3"})
    void Should_return_not_found_response(final String urlPath) {
        final ClientHttpResponse response = blockingHttpClient.get(urlPath + "?found=false");

        assertEquals(jsonErrorObject("Not Found"), response.getBody()); <i class="conum" data-value="2"></i><b>(2)</b>
        assertEquals(404, response.getStatusCode()); <i class="conum" data-value="2"></i><b>(2)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>In case there is a result, the result is returned in JSON format, and the HTTP response status is <code>200</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If there is no result, a standard error message is returned, and the HTTP response status is <code>404</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The RxMicro framework provides an option to customize the <code>Not Found</code> message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class CustomizeNotFoundMicroService {

    @GET("/")
    <i class="conum" data-value="1"></i><b>(1)</b>
    @NotFoundMessage("Custom not found message")
    CompletableFuture&lt;Optional&lt;Response&gt;&gt; getOptional1(final Boolean found) {
        return completedFuture(found ? Optional.of(new Response()) : Optional.empty());
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest-server/src/main/java/io/rxmicro/rest/server/NotFoundMessage.java" target="_blank" rel="noopener"><code>@NotFoundMessage</code></a>
annotation allows You to specify a message that will be displayed to the client in case of missing result instead of the standard <code>"Not Found"</code> message.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Test
void Should_return_custom_not_found_message() {
    final ClientHttpResponse response = blockingHttpClient.get("/?found=false");

    assertEquals(jsonErrorObject("Custom not found message"), response.getBody()); <i class="conum" data-value="1"></i><b>(1)</b>
    assertEquals(404, response.getStatusCode()); <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If there is no result, the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest-server/src/main/java/io/rxmicro/rest/server/NotFoundMessage.java" target="_blank" rel="noopener"><code>@NotFoundMessage</code></a> message, which is set by the annotation, is returned.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The HTTP status is <code>404</code>.<br>
(<em>The RxMicro framework does not allow overriding the HTTP status for <code>Not Found</code> logic!</em>)</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For more control over the HTTP response generated in case of an error, use <a href="#rest-controller-errors-section">exception</a> instead of <code>Not Found</code> Logic feature!</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-notfound" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-notfound</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-errors-section"><a class="anchor" href="#rest-controller-errors-section"></a><a class="link" href="#rest-controller-errors-section">6. Exceptions Usage</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each reactive type of returned request handler result supports two states:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Successful completion signal.</p>
</li>
<li>
<p>Completion signal with an error.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The feature of a successful completion signal consists in its uniqueness, i.e. if such a signal has occurred, it ensures successful completion of the business task.
The feature of a completion signal with an error is that different types of errors may occur during the execution of the business task:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>validation error;</p>
</li>
<li>
<p>data source connection error;</p>
</li>
<li>
<p>computational algorithm error, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It means that each request handler can return <strong>only one successful result and several results with errors</strong>.</p>
</div>
<div class="paragraph">
<p>So the RxMicro framework introduces the <code>error</code> concept.
An error means any unsuccessful result.</p>
</div>
<div class="paragraph">
<p><strong>For simplified error handling, the RxMicro framework recommends using HTTP status codes for each error category!</strong></p>
</div>
<div class="paragraph">
<p>In case the HTTP code status is not sufficient, the RxMicro framework recommends using an additional text description.</p>
</div>
<div id="rest-controller-errors-model-inline" class="paragraph">
<p>For this purpose, the RxMicro framework defines a standard JSON model which is returned in case of any error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "message": "Not Found"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Thus, in case of an error, the client determines the error category basing on HTTP status code analysis.
For more information, the client should analyze a text message.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="basic_class_of_exceptions"><a class="anchor" href="#basic_class_of_exceptions"></a><a class="link" href="#basic_class_of_exceptions">6.1. Basic Class of Exceptions</a></h3>
<div class="paragraph">
<p>When handling an HTTP request, the RxMicro framework defines the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/error/HttpErrorException.java" target="_blank" rel="noopener"><code>HttpErrorException</code></a> base exception class.</p>
</div>
<div class="paragraph">
<p><strong>All custom exception types must extend this base class!</strong></p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For all child classes which extend the <code>HttpErrorException</code> class, when creating an exception instance <strong>the stack trace is not filled</strong>, as this information is redundant.</p>
</div>
<div class="paragraph">
<p><em>(This behavior is achieved by using the
<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/RuntimeException.html#%3Cinit%3E(java.lang.String,java.lang.Throwable,boolean,boolean)" target="_blank" rel="noopener"><code>protected RuntimeException(String, Throwable, boolean, boolean)</code></a> protected constructor.)</em></p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="using_the_user_defined_exceptions"><a class="anchor" href="#using_the_user_defined_exceptions"></a><a class="link" href="#using_the_user_defined_exceptions">6.2. Using the User Defined Exceptions</a></h3>
<div class="paragraph">
<p>If the request handler must return an HTTP status code other than the successful one, a separate exception class must be created:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public final class CustomNotFoundException extends HttpErrorException { <i class="conum" data-value="1"></i><b>(1)</b>

    private static final int STATUS_CODE = 404; <i class="conum" data-value="2"></i><b>(2)</b>

    public CustomNotFoundException(final String message) { <i class="conum" data-value="3"></i><b>(3)</b>
        super(STATUS_CODE, message);
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The custom exception class must extend the <code>HttpErrorException</code> class.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Each class must define the static <code>int STATUS_CODE</code> field with a status code that identifies the error category.
<em>(This name is constant and is used by the <a href="project-documentation.html#project-documentation-custom-error-requirements"><code>rxmicro.documentation</code></a> module when building the project documentation.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>If You want to display a detailed message to the client, You need to add the constructor parameter.<br>
<em>(If You want to return to the client only the HTTP status without the HTTP body, then create a constructor without parameters.)</em></td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>The RxMicro framework does not support <code>null</code> as a business value!</strong></p>
</div>
<div class="paragraph">
<p>So if the <code>null</code> value is passed to the exception constructor as a message, then the RxMicro framework will return an HTTP response without a message body!<br>
<em>(i.e. the <code>new CustomNotFoundException(null)</code> and <code>new CustomNotFoundException()</code> constructions are identical in terms of the RxMicro framework!)</em></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can use two approaches to return an HTTP status code other than successful one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class MicroService {

    @PUT(value = "/business-object-1", httpBody = false)
    CompletableFuture&lt;Void&gt; updateObject1(final Integer id) {
        return failedFuture(new CustomNotFoundException("Object not found by id=" + id)); <i class="conum" data-value="1"></i><b>(1)</b>
    }

    @PUT(value = "/business-object-2", httpBody = false)
    CompletableFuture&lt;Void&gt; updateObject2(final Integer id) {
        throw new CustomNotFoundException("Object not found by id=" + id); <i class="conum" data-value="2"></i><b>(2)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use the reactive type method to generate a completion signal with an error.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create and throw an exception instance.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>From the client&#8217;s point of view, the two above-mentioned approaches are exactly the same:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(MicroService.class)
final class MicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    @ParameterizedTest
    @ValueSource(strings = {"/business-object-1", "/business-object-2"})
    void Should_return_404(final String urlPath) {
        final ClientHttpResponse response = blockingHttpClient.put(urlPath + "?id=0");

        assertEquals(jsonErrorObject("Object not found by id=0"), response.getBody()); <i class="conum" data-value="1"></i><b>(1)</b>
        assertEquals(404, response.getStatusCode()); <i class="conum" data-value="2"></i><b>(2)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>As a detailed error message, the message passed to the exception constructor is returned.<br>
<em>(The <code>jsonErrorObject("&#8230;&#8203;")</code> utility method is synonymous with the <code>jsonObject("message", "&#8230;&#8203;")</code> method.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The returned status code equals the status code defined in the exception class in the <code>int STATUS_CODE</code> field.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-errors" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-errors</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="error_signal_generation_methods"><a class="anchor" href="#error_signal_generation_methods"></a><a class="link" href="#error_signal_generation_methods">6.3. Error Signal Generation Methods</a></h3>
<div class="paragraph">
<p>To return an HTTP response with an error it is necessary to use the appropriate reactive type method to generate the error signal.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Error signal generation method.</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Reactive type</strong></th>
<th class="tableblock halign-left valign-top"><strong>Static method</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompletableFuture</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html#failedFuture(java.lang.Throwable)" target="_blank" rel="noopener"><code>CompletableFuture.failedFuture</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompletionStage</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html#failedStage(java.lang.Throwable)" target="_blank" rel="noopener"><code>CompletableFuture.failedStage</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Mono</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#error-java.lang.Throwable-" target="_blank" rel="noopener"><code>Mono.error</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Completable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://reactivex.io/RxJava/javadoc/io/reactivex/Completable.html#error-java.lang.Throwable-" target="_blank" rel="noopener"><code>Completable.error</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Single</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://reactivex.io/RxJava/javadoc/io/reactivex/Single.html#error-java.lang.Throwable-" target="_blank" rel="noopener"><code>Single.error</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Maybe</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://reactivex.io/RxJava/javadoc/io/reactivex/Maybe.html#error-java.lang.Throwable-" target="_blank" rel="noopener"><code>Maybe.error</code></a></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using the error signal generation method instead of throwing an exception instance requires writing more code but saves processor resources!</p>
</div>
<div class="paragraph">
<p>So it&#8217;s up to You to determine which method to use in Your project!</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="predefined_classes_of_exceptions"><a class="anchor" href="#predefined_classes_of_exceptions"></a><a class="link" href="#predefined_classes_of_exceptions">6.4. Predefined Classes of Exceptions</a></h3>
<div class="paragraph">
<p>The RxMicro framework defines the following predefined exception classes:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. List of predefined exception classes.</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Exception class</strong></th>
<th class="tableblock halign-left valign-top"><strong>Status code</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/error/RedirectException.java" target="_blank" rel="noopener"><code>RedirectException</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>300..399</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A base class to inform the client about the need to perform <code>redirect</code>.</p>
<p class="tableblock"><em>(Instead of using a base class, it is recommended to use one of the following child ones: <code>TemporaryRedirectException</code> or <code>PermanentRedirectException</code>.)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/error/TemporaryRedirectException.java" target="_blank" rel="noopener"><code>TemporaryRedirectException</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/307" target="_blank" rel="noopener"><code>307</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A class that signals the need to perform <a href="#rest-controller-redirect-section"><code>Temporary Redirect</code>.</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/error/PermanentRedirectException.java" target="_blank" rel="noopener"><code>PermanentRedirectException</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/308" target="_blank" rel="noopener"><code>308</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A class that signals the need to perform <a href="#rest-controller-redirect-section"><code>Permanent Redirect</code>.</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/error/ValidationException.java" target="_blank" rel="noopener"><code>ValidationException</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400" target="_blank" rel="noopener"><code>400</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A class signaling that the client has sent <a href="validation.html#validation-section">a bad request.</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/error/InternalHttpErrorException.java" target="_blank" rel="noopener"><code>InternalHttpErrorException</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500" target="_blank" rel="noopener"><code>500</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A class signaling that an internal error has occurred during execution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-validation/src/main/java/io/rxmicro/validation/UnexpectedResponseException.java" target="_blank" rel="noopener"><code>UnexpectedResponseException</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500" target="_blank" rel="noopener"><code>500</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A class signaling that the <a href="validation.html#validation-response-section">HTTP response, generated by the request handler, contains validation errors.</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http-client/src/main/java/io/rxmicro/http/client/HttpClientTimeoutException.java" target="_blank" rel="noopener"><code>HttpClientTimeoutException</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/504" target="_blank" rel="noopener"><code>504</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A class signaling that the HTTP client didn&#8217;t receive a response from the server in given time.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-set-status-code-section"><a class="anchor" href="#rest-controller-set-status-code-section"></a><a class="link" href="#rest-controller-set-status-code-section">7. Overriding the Status Code</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, if there are no errors during HTTP request handling, the HTTP server returns the <code>200</code> status code.
If You need to change the status code returned by default, You must use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest-server/src/main/java/io/rxmicro/rest/server/SetStatusCode.java" target="_blank" rel="noopener"><code>@SetStatusCode</code></a> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class MicroService {

    @GET("/200")
    void success() {
    }

    @GET("/307")
    @SetStatusCode(307)
    void permanentRedirect() {
    }

    @GET("/404")
    @SetStatusCode(404)
    void notFound() {
    }

    @GET("/500")
    @SetStatusCode(500)
    void internalError() {
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(MicroService.class)
final class MicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    @ParameterizedTest
    @ValueSource(ints = {200, 307, 404, 500})
    void Should_return_valid_status_codes(final int expectedStatus) {
        final ClientHttpResponse response = blockingHttpClient.get("/" + expectedStatus);

        assertEquals(expectedStatus, response.getStatusCode());
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-set-status-code" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-set-status-code</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-redirect-section"><a class="anchor" href="#rest-controller-redirect-section"></a><a class="link" href="#rest-controller-redirect-section">8. Redirecting of Requests</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The RxMicro framework supports request redirection:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class MicroService {

    @PUT(value = "/old-url")
    CompletableFuture&lt;Void&gt; redirect() {
        return failedFuture(new PermanentRedirectException("/new-url")); <i class="conum" data-value="1"></i><b>(1)</b>
    }

    <i class="conum" data-value="2"></i><b>(2)</b>
    @PUT(value = "/new-url")
    void put(final String parameter) {
        System.out.println(parameter);
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>To redirect a request, You need to return the <code>PermanentRedirectException</code> instance, indicating a new URL Path.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Once the HTTP response with request redirection is returned, the HTTP client will automatically repeat the request to a new URL Path.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>If temporary redirection is required, the <code>TemporaryRedirectException</code> class must be used instead of the <code>PermanentRedirectException</code> class!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The predefined redirection classes (<code>TemporaryRedirectException</code> and <code>PermanentRedirectException</code>) return the
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/307" target="_blank" rel="noopener"><code>307</code></a> and
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/308" target="_blank" rel="noopener"><code>308</code></a> HTTP statuses.</p>
</div>
<div class="paragraph">
<p><strong>According to the HTTP protocol rules, the HTTP method is preserved at such redirection!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(MicroService.class)
final class MicroServiceTest {

    <i class="conum" data-value="1"></i><b>(1)</b>
    @BlockingHttpClientSettings(followRedirects = ENABLED)
    private BlockingHttpClient blockingHttpClient;

    private SystemOut systemOut;

    @Test
    void Should_redirect() {
        blockingHttpClient.put(
                "/old-url",
                jsonObject("parameter", "test")
        ); <i class="conum" data-value="2"></i><b>(2)</b>

        assertEquals("test", systemOut.asString()); <i class="conum" data-value="3"></i><b>(3)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>By default, the predefined HTTP client, that is used to perform test requests to the microservice, does not support redirection.
Therefore, automatic redirection must be activated using the <a href="testing.html#testing-BlockingHttpClient-settings-section"><code>@BlockingHttpClientSettings(followRedirects = ENABLED)</code> setting</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>PUT</code> request to the <code>/put1</code> URL Path is performed.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Consequently, the <code>MicroService.put</code> handler is automatically performed after the <code>MicroService.redirect</code> handler.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Besides using the <code>PermanentRedirectException</code>/<code>TemporaryRedirectException</code> exceptions, a custom model class or the
<a href="#rest-controller-set-status-code-section"><code>@SetStatusCode</code></a> and <a href="#rest-controller-headers-static"><code>@SetHeader</code></a> annotation composition can be used for redirection:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@PUT(value = "/old-url1")
CompletableFuture&lt;RedirectResponse&gt; redirect1() {
    return completedFuture(new RedirectResponse("/new-url")); <i class="conum" data-value="1"></i><b>(1)</b>
}

@PUT(value = "/old-url2")
<i class="conum" data-value="2"></i><b>(2)</b>
@SetStatusCode(307)
@SetHeader(name = LOCATION, value = "/new-url")
void redirect2() {
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Using a custom model class with the <code>Location</code> header.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Using the <a href="#rest-controller-set-status-code-section"><code>@SetStatusCode</code></a> and <a href="#rest-controller-headers-static"><code>@SetHeader</code></a> annotation composition.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>FYI:</strong> The <code>RedirectResponse</code> model class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public final class RedirectResponse {

    @ResponseStatusCode
    final Integer status = 307;

    @Header(LOCATION)
    final String location;

    public RedirectResponse(final String location) {
        this.location = requireNonNull(location);
    }
}</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-redirect" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-redirect</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-headers-basic"><a class="anchor" href="#rest-controller-headers-basic"></a><a class="link" href="#rest-controller-headers-basic">9. HTTP Headers Support</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="basic_rules"><a class="anchor" href="#basic_rules"></a><a class="link" href="#basic_rules">9.1. Basic Rules</a></h3>
<div class="paragraph">
<p>The RxMicro framework supports HTTP headers in request and response models:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><i class="conum" data-value="1"></i><b>(1)</b>
@HeaderMappingStrategy
public final class Request {

    <i class="conum" data-value="2"></i><b>(2)</b>
    @Header
    String endpointVersion;

    <i class="conum" data-value="3"></i><b>(3)</b>
    @Header("UseProxy")
    Boolean useProxy;

    public String getEndpointVersion() {
        return endpointVersion;
    }

    public Boolean getUseProxy() {
        return useProxy;
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><i class="conum" data-value="1"></i><b>(1)</b>
@HeaderMappingStrategy
public final class Response {

    <i class="conum" data-value="2"></i><b>(2)</b>
    @Header
    final String endpointVersion;

    <i class="conum" data-value="3"></i><b>(3)</b>
    @Header("UseProxy")
    final Boolean useProxy;

    public Response(final Request request) {
        this.endpointVersion = request.getEndpointVersion();
        this.useProxy = request.getUseProxy();
    }

    public Response(final String endpointVersion,
                    final Boolean useProxy) {
        this.endpointVersion = endpointVersion;
        this.useProxy = useProxy;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/HeaderMappingStrategy.java" target="_blank" rel="noopener"><code>@HeaderMappingStrategy</code></a>
annotation allows setting common conversion rules for all header names from HTTP to Java format and vice versa in the current model class.<br>
<em>(By default, the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-model/src/main/java/io/rxmicro/model/MappingStrategy.java#L76" target="_blank" rel="noopener"><code>CAPITALIZE_WITH_HYPHEN</code></a> strategy is used.
The field name is used as the basic name, and then, following the rules of the specified strategy, the HTTP header name is generated.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>In order to declare a model field as the HTTP header field, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/Header.java" target="_blank" rel="noopener"><code>@Header</code></a> annotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Using the <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/Header.java" target="_blank" rel="noopener"><code>@Header</code></a>
annotation, it is possible to specify the HTTP header name, which does not correspond to the used strategy declared by the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/HeaderMappingStrategy.java" target="_blank" rel="noopener"><code>@HeaderMappingStrategy</code></a> annotation.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The RxMicro framework uses the following algorithm to define the HTTP header name for the specified model field:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If the field is annotated by the <code>@Header</code> annotation with an explicit indication of the HTTP header name, the specified name is used;</p>
</li>
<li>
<p>If no HTTP header name is specified in the <code>@Header</code> annotation, the RxMicro framework checks for the <code>@HeaderMappingStrategy</code> annotation above the model class;</p>
</li>
<li>
<p>If the model class is annotated by the <code>@HeaderMappingStrategy</code> annotation, then the specified naming strategy is used.<br>
<em>(The field name is used as the basic name, and then, following the rules of the specified strategy, the HTTP header name is generated.)</em></p>
</li>
<li>
<p>If the <code>@HeaderMappingStrategy</code> annotation is missing, the model class field name is used as the HTTP header name.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>After creating model classes, it is necessary to create a request handler that uses the following models:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class SimpleUsageMicroService {

    @GET("/get1")
    CompletableFuture&lt;Response&gt; get1(final Request request) { <i class="conum" data-value="1"></i><b>(1)</b>
        return completedFuture(new Response(request));
    }

    <i class="conum" data-value="2"></i><b>(2)</b>
    @GET("/get2")
    <i class="conum" data-value="3"></i><b>(3)</b>
    @HeaderMappingStrategy
    CompletableFuture&lt;Response&gt; get2(final @Header String endpointVersion,          <i class="conum" data-value="4"></i><b>(4)</b>
                                     final @Header("UseProxy") Boolean useProxy) {  <i class="conum" data-value="5"></i><b>(5)</b>
        return completedFuture(new Response(endpointVersion, useProxy));
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If a separate model class has been created for an HTTP request, then this class must be passed to the method parameter that handles the HTTP request.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Besides supporting HTTP request model classes, the RxMicro framework supports request handlers that accept HTTP headers as method parameters.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>To define a common naming strategy for all HTTP headers which are passed as method parameters, the request handler must be annotated by the <code>@HeaderMappingStrategy</code> annotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>To declare a method parameter as an HTTP header field, use the <code>@Header</code> annotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Using the <code>@Header</code> annotation, it is possible to specify an HTTP header name that does not correspond to the strategy used, declared by the <code>@HeaderMappingStrategy</code> annotation.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The RxMicro framework recommends for request handlers that depend on 3 or more
HTTP headers
to create separate classes of request model.</p>
</div>
<div class="paragraph">
<p><strong>Upon implementation of</strong>
<strong>HTTP headers</strong>
<strong>directly into the handler, the code becomes hard to read!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Despite the different approaches to HTTP header handling support, from the client&#8217;s point of view the two above-mentioned handlers are absolutely equal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(SimpleUsageMicroService.class)
final class SimpleUsageMicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    @ParameterizedTest
    @ValueSource(strings = {"/get1", "/get2"})
    void Should_process_HTTP_headers(final String path) {
        final ClientHttpResponse response = blockingHttpClient.get(
                path, <i class="conum" data-value="1"></i><b>(1)</b>
                HttpHeaders.of(
                        "Endpoint-Version", "v1",   <i class="conum" data-value="2"></i><b>(2)</b>
                        "UseProxy", true            <i class="conum" data-value="3"></i><b>(3)</b>
                )
        );

        final HttpHeaders responseHeaders = response.getHeaders();
        assertEquals("v1", responseHeaders.getValue("Endpoint-Version"));   <i class="conum" data-value="4"></i><b>(4)</b>
        assertEquals("true", responseHeaders.getValue("UseProxy"));         <i class="conum" data-value="4"></i><b>(4)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>When performing a request to different URL Paths, the result is the same.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>Endpoint-Version</code> name corresponds to the <code>endpointVersion</code> field of the request model.<br>
<em>(This correspondence is formed basing on the default strategy use, which is defined by the <code>@HeaderMappingStrategy</code> annotation.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>UseProxy</code> name corresponds to the <code>useProxy</code> field of the request model, since this name is specified in the <code>@Header</code> annotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>After executing the request in the resulting HTTP response, the <code>Endpoint-Version</code> and <code>UseProxy</code> headers are equal to <code>v1</code> and <code>true</code> respectively.
<em>(The handler returns the same header values it received from an HTTP request.)</em></td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-headers" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-headers</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="supported_data_types"><a class="anchor" href="#supported_data_types"></a><a class="link" href="#supported_data_types">9.2. Supported Data Types</a></h3>
<div class="paragraph">
<p>The RxMicro framework supports the following Java types, which can be HTTP request model headers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>? extends Enum&lt;?&gt;</code>;</p>
</li>
<li>
<p><code>java.lang.Boolean</code>;</p>
</li>
<li>
<p><code>java.lang.Byte</code>;</p>
</li>
<li>
<p><code>java.lang.Short</code>;</p>
</li>
<li>
<p><code>java.lang.Integer</code>;</p>
</li>
<li>
<p><code>java.lang.Long</code>;</p>
</li>
<li>
<p><code>java.math.BigInteger</code>;</p>
</li>
<li>
<p><code>java.lang.Float</code>;</p>
</li>
<li>
<p><code>java.lang.Double</code>;</p>
</li>
<li>
<p><code>java.math.BigDecimal</code>;</p>
</li>
<li>
<p><code>java.lang.Character</code>;</p>
</li>
<li>
<p><code>java.lang.String</code>;</p>
</li>
<li>
<p><code>java.time.Instant</code>;</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For floating point numbers, it is suggested to use the <code>java.math.BigDecimal</code> type instead of <code>java.lang.Float</code> or <code>java.lang.Double</code>.</p>
</div>
<div class="paragraph">
<p>Using the <code>java.math.BigDecimal</code> allows excluding errors of decimal number notation.
<strong>This is particularly important if the decimal number is used to represent currency-related data!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>and also the <code>java.util.List&lt;T&gt;</code>, <code>java.util.Set&lt;T&gt;</code> and the <code>java.util.Map&lt;String, T&gt;</code> type is parameterized by any of the above mentioned primitive types.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the <code>java.util.Map&lt;String, T&gt;</code> type is used, then REST model can contain dynamic properties, where <code>keys</code> are the names of properties and <code>values</code> are the properties values.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class ListHeaderMicroService {

    @GET("/")
    @HeaderMappingStrategy
    void consume(final @Header List&lt;Status&gt; supportedStatuses) {
        System.out.println(supportedStatuses);
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(ListHeaderMicroService.class)
final class ListHeaderMicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    private SystemOut systemOut;

    static Stream&lt;Arguments&gt; supportedListProvider() {
        return Stream.of(
                arguments("created|approved|rejected"),                         <i class="conum" data-value="1"></i><b>(1)</b>
                arguments(new Status[]{created, approved, rejected}, 0),        <i class="conum" data-value="2"></i><b>(2)</b>
                arguments(new String[]{"created", "approved", "rejected"}, 0),  <i class="conum" data-value="3"></i><b>(3)</b>
                arguments(List.of(created, approved, rejected)),                <i class="conum" data-value="4"></i><b>(4)</b>
                arguments(List.of("created", "approved", "rejected")),          <i class="conum" data-value="5"></i><b>(5)</b>
                arguments(HttpHeaders.of(                                       <i class="conum" data-value="6"></i><b>(6)</b>
                        "Supported-Statuses", "created",
                        "Supported-Statuses", "approved",
                        "Supported-Statuses", "rejected"
                )),
                arguments(HttpHeaders.of(                                       <i class="conum" data-value="6"></i><b>(6)</b>
                        "Supported-Statuses", "created|approved",
                        "Supported-Statuses", "rejected"
                ))
        );
    }

    @ParameterizedTest
    @MethodSource("supportedListProvider")
    void Should_support_list_headers(final Object headerValue) {
        blockingHttpClient.get(
                "/",
                headerValue instanceof HttpHeaders ?
                        (HttpHeaders) headerValue :
                        HttpHeaders.of("Supported-Statuses", headerValue) <i class="conum" data-value="7"></i><b>(7)</b>
        );

        assertEquals(
                "[created, approved, rejected]", <i class="conum" data-value="8"></i><b>(8)</b>
                systemOut.asString()
        );
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If the HTTP header is a list of values, the list elements are transferred via the HTTP protocol as a string separated by the <code>|</code> symbol.<br>
<em>(For HTTP response headers it is possible to activate the <a href="#rest-controller-headers-repeating">repeating headers mode.</a>)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Besides transferring the list using a comma-separated string, the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-test/src/main/java/io/rxmicro/test/BlockingHttpClient.java" target="_blank" rel="noopener"><code>BlockingHttpClient</code></a> component also supports:<br>
an array of enumerations,</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>an array of string values,</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>a list of enumerations,</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>a list of string values.<br>
<em>(The <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-test/src/main/java/io/rxmicro/test/BlockingHttpClient.java" target="_blank" rel="noopener"><code>BlockingHttpClient</code></a>
component converts these types to a comma-separated string automatically!)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Besides transferring HTTP headers as a comma-separated string, the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-test/src/main/java/io/rxmicro/test/BlockingHttpClient.java" target="_blank" rel="noopener"><code>BlockingHttpClient</code></a> component also supports repeatable HTTP headers with different values.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>All specified value types for the HTTP header, which is a list of values, are transferred as the <code>java.lang.Object</code> type.
<em>(The <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-test/src/main/java/io/rxmicro/test/BlockingHttpClient.java" target="_blank" rel="noopener"><code>BlockingHttpClient</code></a>
component automatically converts them to a comma-separated string and transfers via the HTTP protocol.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>The RxMicro framework converts different types to a list of enumerations and displays it in the console.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="rest-controller-headers-static"><a class="anchor" href="#rest-controller-headers-static"></a><a class="link" href="#rest-controller-headers-static">9.3. Static HTTP headers</a></h3>
<div class="paragraph">
<p>For setting of the static headers, the RxMicro framework provides the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/AddHeader.java" target="_blank" rel="noopener"><code>@AddHeader</code></a> and
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/SetHeader.java" target="_blank" rel="noopener"><code>@SetHeader</code></a> annotations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><i class="conum" data-value="1"></i><b>(1)</b>
@SetHeader(name = "Mode", value = "Demo")
final class StaticHeadersMicroService {

    @GET("/get1")
    void get1() {
    }

    @GET("/get2")
    <i class="conum" data-value="2"></i><b>(2)</b>
    @SetHeader(name = "Debug", value = "true")
    void get2() {
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If the HTTP header is set for the REST controller, it is added to the HTTP responses for each handler.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If the HTTP header is set for the handler, it is added to the HTTP responses only for that handler.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>From the client&#8217;s point of view, static headers do not differ from any others:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Test
void Should_use_parent_header_only() {
    final ClientHttpResponse response = blockingHttpClient.get("/get1");

    assertEquals("Demo", response.getHeaders().getValue("Mode"));
}

@Test
void Should_use_parent_and_child_headers() {
    final ClientHttpResponse response = blockingHttpClient.get("/get2");

    assertEquals("Demo", response.getHeaders().getValue("Mode"));
    assertEquals("true", response.getHeaders().getValue("Debug"));
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In order to understand the differences between the <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/AddHeader.java" target="_blank" rel="noopener"><code>@AddHeader</code></a> and
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/SetHeader.java" target="_blank" rel="noopener"><code>@SetHeader</code></a> annotations, take a look to the following example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/rxmicro/rxmicro-usage/blob/master/examples/group-rest-controller/rest-controller-headers/src/main/java/io/rxmicro/examples/rest/controller/headers/ComplexStaticHeadersMicroService.java" target="_blank" rel="noopener"><code>ComplexStaticHeadersMicroService.java</code></a></p>
</li>
<li>
<p><a href="https://github.com/rxmicro/rxmicro-usage/blob/master/examples/group-rest-controller/rest-controller-headers/src/test/java/io/rxmicro/examples/rest/controller/headers/ComplexStaticHeadersMicroServiceTest.java" target="_blank" rel="noopener"><code>ComplexStaticHeadersMicroServiceTest.java</code></a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-headers" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-headers</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="rest-controller-headers-repeating"><a class="anchor" href="#rest-controller-headers-repeating"></a><a class="link" href="#rest-controller-headers-repeating">9.4. Repeating HTTP headers</a></h3>
<div class="paragraph">
<p>If the HTTP header of an HTTP response is a list of values, the list elements are transferred by default via the HTTP protocol as a string separated by the <code>|</code> symbol.</p>
</div>
<div class="paragraph">
<p>If You want the HTTP header to be repeated for each value, You need to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RepeatHeader.java" target="_blank" rel="noopener"><code>@RepeatHeader</code></a> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Header
List&lt;Status&gt; singleHeader = List.of(created, approved, rejected);

@Header
@RepeatHeader
List&lt;Status&gt; repeatingHeader = List.of(created, approved, rejected);</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>The use of the <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RepeatHeader.java" target="_blank" rel="noopener"><code>@RepeatHeader</code></a> annotation is supported for response models only!</strong></p>
</div>
<div class="paragraph">
<p>For request models it makes no sense, because the RxMicro framework converts any of the supported formats into a list of values.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As a result of converting the Java model to HTTP response, the result will be as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">assertEquals(
        "created|approved|rejected", <i class="conum" data-value="1"></i><b>(1)</b>
        response.getHeaders().getValue("Single-Header")
);
assertEquals(
        List.of("created", "approved", "rejected"), <i class="conum" data-value="2"></i><b>(2)</b>
        response.getHeaders().getValues("Repeating-Header")
);</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>By default, HTTP header list elements are transferred via the HTTP protocol as a string separated by the <code>|</code> symbol.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If the field is annotated by the <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RepeatHeader.java" target="_blank" rel="noopener"><code>@RepeatHeader</code></a> annotation, then the header is repeated for each element of the list.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-headers" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-headers</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-params-basic"><a class="anchor" href="#rest-controller-params-basic"></a><a class="link" href="#rest-controller-params-basic">10. HTTP Parameters Handling</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="basic_rules_2"><a class="anchor" href="#basic_rules_2"></a><a class="link" href="#basic_rules_2">10.1. Basic Rules</a></h3>
<div class="paragraph">
<p>The RxMicro framework supports HTTP parameters in request and response models:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><i class="conum" data-value="1"></i><b>(1)</b>
@ParameterMappingStrategy
public final class Request {

    <i class="conum" data-value="2"></i><b>(2)</b>
    String endpointVersion;

    <i class="conum" data-value="3"></i><b>(3)</b>
    @Parameter("use-Proxy")
    Boolean useProxy;

    public String getEndpointVersion() {
        return endpointVersion;
    }

    public Boolean getUseProxy() {
        return useProxy;
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><i class="conum" data-value="1"></i><b>(1)</b>
@ParameterMappingStrategy
public final class Response {

    <i class="conum" data-value="2"></i><b>(2)</b>
    final String endpointVersion;

    <i class="conum" data-value="3"></i><b>(3)</b>
    @Parameter("use-Proxy")
    final Boolean useProxy;

    public Response(final Request request) {
        this.endpointVersion = request.getEndpointVersion();
        this.useProxy = request.getUseProxy();
    }

    public Response(final String endpointVersion,
                    final Boolean useProxy) {
        this.endpointVersion = endpointVersion;
        this.useProxy = useProxy;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/ParameterMappingStrategy.java" target="_blank" rel="noopener"><code>@ParameterMappingStrategy</code></a>
annotation allows setting common conversion rules for all parameter names from HTTP to Java format and vice versa in the current model class.
<em>(By default, the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-model/src/main/java/io/rxmicro/model/MappingStrategy.java#L41" target="_blank" rel="noopener"><code>LOWERCASE_WITH_UNDERSCORED</code></a> strategy is used.
The field name is used as the basic name, and then, following the rules of the specified strategy, the HTTP parameter name is generated.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>In order to declare a model field as the HTTP parameter field, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/Parameter.java" target="_blank" rel="noopener"><code>@Parameter</code></a> annotation.
<em>(Unlike the <code>@Header</code> annotation, the <code>@Parameter</code> annotation is optional.
Thus, if the model field is not annotated by any annotation, then by default it is assumed that there is the <code>@Parameter</code> annotation above the model field.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Using the <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/Parameter.java" target="_blank" rel="noopener"><code>@Parameter</code></a>
annotation, it is possible to specify the HTTP parameter name, which does not correspond to the used strategy declared by the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/ParameterMappingStrategy.java" target="_blank" rel="noopener"><code>@ParameterMappingStrategy</code></a> annotation.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The RxMicro framework uses the following algorithm to define the HTTP parameter name for the specified model field:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If the field is annotated by the <code>@Parameter</code> annotation with an explicit indication of the HTTP parameter name, the specified name is used;</p>
</li>
<li>
<p>If no HTTP parameter name is specified in the <code>@Parameter</code> annotation, the RxMicro framework checks for the <code>@ParameterMappingStrategy</code> annotation above the model class;</p>
</li>
<li>
<p>If the model class is annotated by the <code>@ParameterMappingStrategy</code> annotation, then the specified naming strategy is used.
<em>(The field name is used as the basic name, and then, following the rules of the specified strategy, the HTTP parameter name is generated.)</em></p>
</li>
<li>
<p>If the <code>@ParameterMappingStrategy</code> annotation is missing, the model class field name is used as the HTTP parameter name.</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Unlike the <code>@Header</code> annotation, the <code>@Parameter</code> annotation is optional!</strong></p>
</div>
<div class="paragraph">
<p>Thus, if the model field is not annotated by any annotation, then <strong>by default it is assumed that there is the <code>@Parameter</code> annotation above the model field!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After creating model classes, it is necessary to create an HTTP request handler that uses the following models:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class SimpleUsageMicroService {

    @GET("/get1")
    @POST("/post1")
    CompletableFuture&lt;Response&gt; get1(final Request request) { <i class="conum" data-value="1"></i><b>(1)</b>
        return completedFuture(new Response(request));
    }

    <i class="conum" data-value="2"></i><b>(2)</b>
    @GET("/get2")
    @POST("/post2")
    <i class="conum" data-value="3"></i><b>(3)</b>
    @ParameterMappingStrategy
    CompletableFuture&lt;Response&gt; get2(final String endpointVersion,                      <i class="conum" data-value="4"></i><b>(4)</b>
                                     final @Parameter("use-Proxy") Boolean useProxy) {  <i class="conum" data-value="5"></i><b>(5)</b>
        return completedFuture(new Response(endpointVersion, useProxy));
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If a separate model class has been created for an HTTP request, then this class must be passed by the method parameter that handles the HTTP request.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Besides supporting HTTP request model classes, the RxMicro framework supports request handlers that accept HTTP request parameters as method parameters.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>To define a common naming strategy for all HTTP parameters which are passed as method parameters, the request handler must be annotated by the <code>@ParameterMappingStrategy</code> annotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>To declare a method parameter as an HTTP parameter field, You do not need to use any additional annotations.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Using the <code>@Parameter</code> annotation, it is possible to specify an HTTP parameter name that does not correspond to the strategy used, declared by the <code>@ParameterMappingStrategy</code> annotation.</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Note that the RxMicro framework does not distinguish whether HTTP request parameters will be transferred to the handler using the start line or HTTP body!</strong></p>
</div>
<div class="paragraph">
<p>Therefore, if the parameters are the same, it is possible to use the same handler with the specified request model to handle both <code>GET</code> (parameters are transferred in the start line) and <code>POST</code> (parameters are transferred in the HTTP body) request.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The RxMicro framework recommends for request handlers that depend on 3 or more
HTTP parameters
to create separate classes of request model.</p>
</div>
<div class="paragraph">
<p><strong>Upon implementation of</strong>
<strong>HTTP parameters</strong>
<strong>directly into the handler, the code becomes hard to read!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Despite the different approaches to HTTP parameter handling support, from the client&#8217;s point of view the two above-mentioned handlers are absolutely equal to <code>GET</code> and <code>POST</code> requests respectively:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(SimpleUsageMicroService.class)
final class SimpleUsageMicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    @ParameterizedTest
    @ValueSource(strings = {"/get1", "/get2"})
    void Should_process_HTTP_query_params(final String path) {
        final ClientHttpResponse response = blockingHttpClient.get(
                path, <i class="conum" data-value="1"></i><b>(1)</b>
                QueryParams.of(
                        "endpoint_version", "v1",   <i class="conum" data-value="2"></i><b>(2)</b>
                        "use-Proxy", true           <i class="conum" data-value="3"></i><b>(3)</b>
                )
        );

        assertHttpBody(response);
    }

    @ParameterizedTest
    @ValueSource(strings = {"/post1", "/post2"})
    void Should_process_HTTP_body_params(final String path) {
        final ClientHttpResponse response = blockingHttpClient.post(
                path, <i class="conum" data-value="1"></i><b>(1)</b>
                jsonObject(
                        "endpoint_version", "v1",   <i class="conum" data-value="2"></i><b>(2)</b>
                        "use-Proxy", true           <i class="conum" data-value="3"></i><b>(3)</b>
                )
        );

        assertHttpBody(response);
    }

    private void assertHttpBody(final ClientHttpResponse response) {
        assertEquals(
                jsonObject(
                        "endpoint_version", "v1", <i class="conum" data-value="4"></i><b>(4)</b>
                        "use-Proxy", true         <i class="conum" data-value="4"></i><b>(4)</b>
                ),
                response.getBody()
        );
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>When performing a request to different URL Paths, the result is the same.
<em>(Despite the differences in parameter transfer for <code>GET</code> and `POST`requests.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>endpoint_version</code> name corresponds to the <code>endpointVersion</code> field of the request model.
<em>(This correspondence is formed basing on the default strategy use, which is defined by the <code>@ParameterMappingStrategy</code> annotation.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>use-Proxy</code> name corresponds to the <code>useProxy</code> field of the request model, since this name is specified in the <code>@Parameter</code> annotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>After executing the request in the resulting HTTP response, the <code>endpoint_version</code> and <code>use-Proxy</code> HTTP parameters are equal to <code>v1</code> and <code>true</code> respectively.
<em>(The handler returns the same header values it received from an HTTP request.)</em></td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-params" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-params</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="supported_data_types_2"><a class="anchor" href="#supported_data_types_2"></a><a class="link" href="#supported_data_types_2">10.2. Supported Data Types</a></h3>
<div class="paragraph">
<p>The RxMicro framework supports the following Java types, which can be HTTP request model parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>? extends Enum&lt;?&gt;</code>;</p>
</li>
<li>
<p><code>java.lang.Boolean</code>;</p>
</li>
<li>
<p><code>java.lang.Byte</code>;</p>
</li>
<li>
<p><code>java.lang.Short</code>;</p>
</li>
<li>
<p><code>java.lang.Integer</code>;</p>
</li>
<li>
<p><code>java.lang.Long</code>;</p>
</li>
<li>
<p><code>java.math.BigInteger</code>;</p>
</li>
<li>
<p><code>java.lang.Float</code>;</p>
</li>
<li>
<p><code>java.lang.Double</code>;</p>
</li>
<li>
<p><code>java.math.BigDecimal</code>;</p>
</li>
<li>
<p><code>java.lang.Character</code>;</p>
</li>
<li>
<p><code>java.lang.String</code>;</p>
</li>
<li>
<p><code>java.time.Instant</code>;</p>
</li>
<li>
<p><code>? extends Object</code>;</p>
</li>
<li>
<p><code>java.util.List&lt;? extends Object&gt;</code>;</p>
</li>
<li>
<p><code>java.util.Set&lt;? extends Object&gt;</code>;</p>
</li>
<li>
<p><code>java.util.Map&lt;java.lang.String, ? extends Object&gt;</code>;</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For floating point numbers, it is suggested to use the <code>java.math.BigDecimal</code> type instead of <code>java.lang.Float</code> or <code>java.lang.Double</code>.</p>
</div>
<div class="paragraph">
<p>Using the <code>java.math.BigDecimal</code> allows excluding errors of decimal number notation.
<strong>This is particularly important if the decimal number is used to represent currency-related data!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>and also the <code>java.util.List&lt;T&gt;</code>, <code>java.util.Set&lt;T&gt;</code> and the <code>java.util.Map&lt;String, T&gt;</code> type is parameterized by any of the above mentioned primitive types.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the <code>java.util.Map&lt;String, T&gt;</code> type is used, then REST model can contain dynamic properties, where <code>keys</code> are the names of properties and <code>values</code> are the properties values.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class ListQueryParamMicroService {

    @GET("/")
    @ParameterMappingStrategy
    void consume(final List&lt;Status&gt; supportedStatuses) {
        System.out.println(supportedStatuses);
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(ListQueryParamMicroService.class)
final class ListQueryParamMicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    private SystemOut systemOut;

    static Stream&lt;Arguments&gt; supportedListProvider() {
        return Stream.of(
                arguments("created|approved|rejected"),                         <i class="conum" data-value="1"></i><b>(1)</b>
                arguments(new Status[]{created, approved, rejected}, 0),        <i class="conum" data-value="2"></i><b>(2)</b>
                arguments(new String[]{"created", "approved", "rejected"}, 0),  <i class="conum" data-value="3"></i><b>(3)</b>
                arguments(List.of(created, approved, rejected)),                <i class="conum" data-value="4"></i><b>(4)</b>
                arguments(List.of("created", "approved", "rejected")),          <i class="conum" data-value="5"></i><b>(5)</b>
                arguments(QueryParams.of(                                       <i class="conum" data-value="6"></i><b>(6)</b>
                        "supported_statuses", "created",
                        "supported_statuses", "approved",
                        "supported_statuses", "rejected"
                )),
                arguments(QueryParams.of(                                       <i class="conum" data-value="0"></i><b>(0)</b>
                        "supported_statuses", "created|approved",
                        "supported_statuses", "rejected"
                ))
        );
    }

    @ParameterizedTest
    @MethodSource("supportedListProvider")
    void Should_support_list_headers(final Object queryParamValue) {
        blockingHttpClient.get(
                "/",
                queryParamValue instanceof QueryParams ?
                        (QueryParams) queryParamValue :
                        QueryParams.of("supported_statuses", queryParamValue) <i class="conum" data-value="7"></i><b>(7)</b>
        );

        assertEquals(
                "[created, approved, rejected]", <i class="conum" data-value="8"></i><b>(8)</b>
                systemOut.asString()
        );
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If the HTTP parameter is a list of values, the list elements are transferred via the HTTP protocol as a string separated by the <code>|</code> symbol.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Besides transferring the list using a comma-separated string, the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-test/src/main/java/io/rxmicro/test/BlockingHttpClient.java" target="_blank" rel="noopener"><code>BlockingHttpClient</code></a> component also supports:<br>
an array of enumerations,</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>an array of string values,</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>a list of enumerations,</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>a list of string values.<br>
<em>(The <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-test/src/main/java/io/rxmicro/test/BlockingHttpClient.java" target="_blank" rel="noopener"><code>BlockingHttpClient</code></a>
component converts these types to a comma-separated string automatically!)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Besides transferring HTTP parameters as a comma-separated string, the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-test/src/main/java/io/rxmicro/test/BlockingHttpClient.java" target="_blank" rel="noopener"><code>BlockingHttpClient</code></a> component also supports repeatable query params with different values.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>All specified value types for the HTTP parameter, which is a list of values, are transferred as the <code>java.lang.Object</code> type.
<em>(The <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-test/src/main/java/io/rxmicro/test/BlockingHttpClient.java" target="_blank" rel="noopener"><code>BlockingHttpClient</code></a>
component automatically converts them to a comma-separated string and transfers via the HTTP protocol.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>The RxMicro framework converts different types to a list of enumerations and displays it in the console.</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="complex_model_support"><a class="anchor" href="#complex_model_support"></a><a class="link" href="#complex_model_support">10.3. Complex Model Support</a></h3>
<div class="paragraph">
<p>Unlike HTTP headers, HTTP parameters can be transferred in the request body.</p>
</div>
<div class="paragraph">
<p>Therefore, besides primitives the RxMicro framework also supports nested JSON objects and arrays.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Therefore, the list of supported types includes the following types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>? extends Object</code> - custom class of the nested Java model;</p>
</li>
<li>
<p><code>java.util.List&lt;? extends Object&gt;</code> - list of the nested Java model custom classes;</p>
</li>
<li>
<p><code>java.util.Set&lt;? extends Object&gt;</code> - set of the nested Java model custom classes;</p>
</li>
<li>
<p><code>java.util.Map&lt;String, ? extends Object&gt;</code> - map of the nested Java model custom classes;</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Nested Model Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@ParameterMappingStrategy
public final class NestedModel {

    String stringParameter;

    BigDecimal bigDecimalParameter;

    Instant instantParameter;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As well as examples of more complex Java models that use a nested model:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@ParameterMappingStrategy
public final class ComplexRequest {

    Integer integerParameter; <i class="conum" data-value="1"></i><b>(1)</b>

    Status enumParameter; <i class="conum" data-value="1"></i><b>(1)</b>

    List&lt;Status&gt; enumsParameter; <i class="conum" data-value="2"></i><b>(2)</b>

    NestedModel nestedModelParameter; <i class="conum" data-value="3"></i><b>(3)</b>

    List&lt;NestedModel&gt; nestedModelsParameter; <i class="conum" data-value="4"></i><b>(4)</b>
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@ParameterMappingStrategy
public final class ComplexResponse {

    final Integer integerParameter; <i class="conum" data-value="1"></i><b>(1)</b>

    final Status enumParameter; <i class="conum" data-value="1"></i><b>(1)</b>

    final List&lt;Status&gt; enumsParameter; <i class="conum" data-value="2"></i><b>(2)</b>

    final NestedModel nestedModelParameter; <i class="conum" data-value="3"></i><b>(3)</b>

    final List&lt;NestedModel&gt; nestedModelsParameter; <i class="conum" data-value="4"></i><b>(4)</b>

    public ComplexResponse(final ComplexRequest request) {
        this.integerParameter = request.integerParameter;
        this.enumParameter = request.enumParameter;
        this.enumsParameter = request.enumsParameter;
        this.nestedModelParameter = request.nestedModelParameter;
        this.nestedModelsParameter = request.nestedModelsParameter;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Primitive JSON type field.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Primitive JSON array type.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Nested JSON object.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>JSON array of JSON nested objects.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After creating model classes, it is necessary to create a request handler that uses the following models:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class ComplexModelMicroService {

    @POST("/")
    CompletableFuture&lt;ComplexResponse&gt; handle(final ComplexRequest request) {
        return completedFuture(new ComplexResponse(request));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since the request is transferred in an HTTP body, the sent and received JSON objects must be the same:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(ComplexModelMicroService.class)
final class ComplexModelMicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    @Test
    void Should_support_complex_models() {
        final Object jsonObject = jsonObject(
                "integer_parameter", 1,
                "enum_parameter", created,
                "enums_parameter", jsonArray(created, approved),
                "nested_model_parameter", jsonObject(
                        "string_parameter", "test",
                        "big_decimal_parameter", new BigDecimal("3.14"),
                        "instant_parameter", Instant.now()
                ),
                "nested_models_parameter", jsonArray(
                        jsonObject(
                                "string_parameter", "test1",
                                "big_decimal_parameter", new BigDecimal("1.1"),
                                "instant_parameter", Instant.now()
                        ),
                        jsonObject(
                                "string_parameter", "test2",
                                "big_decimal_parameter", new BigDecimal("1.2"),
                                "instant_parameter", Instant.now()
                        )
                )
        );
        final ClientHttpResponse response = blockingHttpClient.post("/", jsonObject);

        assertEquals(jsonObject, response.getBody());
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For automatic conversion of Java types to JSON types, it is recommended to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-test/src/main/java/io/rxmicro/test/json/JsonFactory.java" target="_blank" rel="noopener"><code>JsonFactory</code></a> test class from the <code>rxmicro-test-json</code> module.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-params" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-params</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-path-variables-basic"><a class="anchor" href="#rest-controller-path-variables-basic"></a><a class="link" href="#rest-controller-path-variables-basic">11. The <code>path variables</code> Support</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="basic_rules_3"><a class="anchor" href="#basic_rules_3"></a><a class="link" href="#basic_rules_3">11.1. Basic Rules</a></h3>
<div class="paragraph">
<p>The RxMicro framework supports <code>path variables</code> in request models:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public final class Request {

    <i class="conum" data-value="1"></i><b>(1)</b>
    @PathVariable
    String category;

    <i class="conum" data-value="2"></i><b>(2)</b>
    @PathVariable("class")
    String type;

    @PathVariable
    String subType;

    public String getCategory() {
        return category;
    }

    public String getType() {
        return type;
    }

    public String getSubType() {
        return subType;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>In order to declare a model field as the <code>path variable</code>, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/PathVariable.java" target="_blank" rel="noopener"><code>@PathVariable</code></a> annotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Using the <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/PathVariable.java" target="_blank" rel="noopener"><code>@PathVariable</code></a> annotation, it is possible to specify the <code>path variable</code> name.<br>
<em>(If no name is specified, the model field name is used as the <code>path variable</code> name.)</em></td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Unlike HTTP headers and parameters that are available also on the client side, <code>path variables</code> are available <strong>only</strong> within the HTTP request handlers.</p>
</div>
<div class="paragraph">
<p><strong>So for simplicity it is recommended to always use the model field name as the <code>path variable</code> name!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After creating model classes, it is necessary to create an HTTP request handler that uses the following model:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class MicroService {

    <i class="conum" data-value="1"></i><b>(1)</b>
    @GET("/1/${category}/${class}/${subType}")
    @GET("/1/${category}/${class}_${subType}")
    @GET("/1/${category}-${class}-${subType}")
    @GET("/1-${category}-${class}-${subType}")
    void consume(final Request request) {
        System.out.println(format(
                "?-?-?",
                request.getCategory(), request.getType(), request.getSubType()
        ));
    }

    <i class="conum" data-value="1"></i><b>(1)</b>
    @GET("/2/${category}/${class}/${subType}")
    @GET("/2/${category}/${class}_${subType}")
    @GET("/2/${category}-${class}-${subType}")
    @GET("/2-${category}-${class}-${subType}")
    void consume(final @PathVariable String category,       <i class="conum" data-value="2"></i><b>(2)</b>
                 final @PathVariable("class") String type,  <i class="conum" data-value="3"></i><b>(3)</b>
                 final @PathVariable String subType) {
        System.out.println(format(
                "?-?-?",
                category, type, subType
        ));
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>When using <code>path variables</code> in request models, be sure to use <strong>all</strong> <code>path variables</code> in the URL Path.
<em>(Based on the analysis of the URL Path, and considering all <code>path variables</code>, the RxMicro framework selects the required HTTP request handler.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>In order to declare a method parameter as <code>path variable</code>, You must use the <code>@PathVariable</code> annotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Using <code>@PathVariable</code> annotation it is possible to specify the <code>path variable</code> name, which does not match the name of the method parameter.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The RxMicro framework recommends for request handlers that depend on 3 or more
<code>path variables</code>
to create separate classes of request model.</p>
</div>
<div class="paragraph">
<p><strong>Upon implementation of</strong>
<strong><code>path variables</code></strong>
<strong>directly into the handler, the code becomes hard to read!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Despite the different approaches to <code>path variables</code> handling support, from the client&#8217;s point of view the two above-mentioned handlers are absolutely equal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(MicroService.class)
final class MicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    private SystemOut systemOut;

    @ParameterizedTest
    @CsvSource({
            "/1/category/class/subType,     category-class-subType",
            "/1/category/class_subType,     category-class-subType",
            "/1/category-class-subType,     category-class-subType",
            "/1-category-class-subType,     category-class-subType",

            "/2/category/class/subType,     category-class-subType",
            "/2/category/class_subType,     category-class-subType",
            "/2/category-class-subType,     category-class-subType",
            "/2-category-class-subType,     category-class-subType",

            "/1/5/6/7,                      5-6-7",
            "/1/5/6_7,                      5-6-7",
            "/1/5-6-7,                      5-6-7",
            "/1-5-6-7,                      5-6-7",

            "/2/5/6/7,                      5-6-7",
            "/2/5/6_7,                      5-6-7",
            "/2/5-6-7,                      5-6-7",
            "/2-5-6-7,                      5-6-7",
    })
    void Should_support_path_variables(final String path,           <i class="conum" data-value="1"></i><b>(1)</b>
                                       final String expectedOut) {  <i class="conum" data-value="2"></i><b>(2)</b>
        blockingHttpClient.get(path);

        assertEquals(expectedOut, systemOut.asString());
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The current <code>path</code>, which corresponds to one of the specified <code>path</code> templates.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The expected string containing all extracted <code>path variables</code>  from the current <code>path</code>, displayed in the console.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-path-variables" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-path-variables</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="supported_data_types_3"><a class="anchor" href="#supported_data_types_3"></a><a class="link" href="#supported_data_types_3">11.2. Supported Data Types</a></h3>
<div class="paragraph">
<p>The RxMicro framework supports the following Java types, which can be <code>path variables</code> of the request model:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>? extends Enum&lt;?&gt;</code>;</p>
</li>
<li>
<p><code>java.lang.Boolean</code>;</p>
</li>
<li>
<p><code>java.lang.Byte</code>;</p>
</li>
<li>
<p><code>java.lang.Short</code>;</p>
</li>
<li>
<p><code>java.lang.Integer</code>;</p>
</li>
<li>
<p><code>java.lang.Long</code>;</p>
</li>
<li>
<p><code>java.math.BigInteger</code>;</p>
</li>
<li>
<p><code>java.lang.Float</code>;</p>
</li>
<li>
<p><code>java.lang.Double</code>;</p>
</li>
<li>
<p><code>java.math.BigDecimal</code>;</p>
</li>
<li>
<p><code>java.lang.Character</code>;</p>
</li>
<li>
<p><code>java.lang.String</code>;</p>
</li>
<li>
<p><code>java.time.Instant</code>;</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For floating point numbers, it is suggested to use the <code>java.math.BigDecimal</code> type instead of <code>java.lang.Float</code> or <code>java.lang.Double</code>.</p>
</div>
<div class="paragraph">
<p>Using the <code>java.math.BigDecimal</code> allows excluding errors of decimal number notation.
<strong>This is particularly important if the decimal number is used to represent currency-related data!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-internals-basic-section"><a class="anchor" href="#rest-controller-internals-basic-section"></a><a class="link" href="#rest-controller-internals-basic-section">12. Support of Internal Data Types</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="basic_rules_4"><a class="anchor" href="#basic_rules_4"></a><a class="link" href="#basic_rules_4">12.1. Basic Rules</a></h3>
<div class="paragraph">
<p>The RxMicro framework works with internal data.
Due to this, the developer can extract additional information about the HTTP request and gain more control over the generated HTTP response.</p>
</div>
<div class="paragraph">
<p>To work with internal data, it is necessary to create request and response models:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public final class Request {

    <i class="conum" data-value="1"></i><b>(1)</b>
    @RemoteAddress
    String remoteAddress1;

    <i class="conum" data-value="2"></i><b>(2)</b>
    @RequestUrlPath
    String urlPath;

    <i class="conum" data-value="3"></i><b>(3)</b>
    @RequestMethod
    String method;

    <i class="conum" data-value="4"></i><b>(4)</b>
    HttpVersion httpVersion;

    <i class="conum" data-value="5"></i><b>(5)</b>
    HttpHeaders headers;

    <i class="conum" data-value="6"></i><b>(6)</b>
    @RequestBody
    byte[] bodyBytes;

    public String getRemoteAddress1() {
        return remoteAddress1;
    }

    public String getUrlPath() {
        return urlPath;
    }

    public String getMethod() {
        return method;
    }

    public HttpVersion getHttpVersion() {
        return httpVersion;
    }

    public HttpHeaders getHeaders() {
        return headers;
    }

    public byte[] getBodyBytes() {
        return bodyBytes;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>To extract the remote address of the client connection, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RemoteAddress.java" target="_blank" rel="noopener"><code>@RemoteAddress</code></a> annotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>To extract the current <code>URL path</code>, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RequestUrlPath.java" target="_blank" rel="noopener"><code>@RequestUrlPath</code></a> annotation.<br>
<em>(This feature is useful for request logging using <code>path-variables</code>.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>To extract the current HTTP method, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RequestMethod.java" target="_blank" rel="noopener"><code>@RequestMethod</code></a> annotation.<br>
<em>(This feature is useful for request logging when one handler supports different HTTP methods.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>To extract the HTTP protocol version, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/HttpVersion.java" target="_blank" rel="noopener"><code>HttpVersion</code></a> type.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>To extract all HTTP headers, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/HttpHeaders.java" target="_blank" rel="noopener"><code>HttpHeaders</code></a> type.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>To extract the request body content as a byte array, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RequestBody.java" target="_blank" rel="noopener"><code>@RequestBody</code></a> annotation.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public final class Response {

    <i class="conum" data-value="1"></i><b>(1)</b>
    @ResponseStatusCode
    final Integer status;

    <i class="conum" data-value="2"></i><b>(2)</b>
    final HttpVersion version;

    <i class="conum" data-value="3"></i><b>(3)</b>
    final HttpHeaders headers;

    <i class="conum" data-value="4"></i><b>(4)</b>
    @ResponseBody
    final byte[] body;

    public Response(final Integer status,
                    final HttpVersion version,
                    final HttpHeaders headers,
                    final byte[] body) {
        this.status = status;
        this.version = version;
        this.headers = headers;
        this.body = body;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>To override the HTTP status code, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/ResponseStatusCode.java" target="_blank" rel="noopener"><code>@ResponseStatusCode</code></a> annotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>To set the HTTP protocol version, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/HttpVersion.java" target="_blank" rel="noopener"><code>HttpVersion</code></a> type.<br>
<em>(Currently only <code>1.0</code> and <code>1.1</code> HTTP versions are supported.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>To set all HTTP headers, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/HttpHeaders.java" target="_blank" rel="noopener"><code>HttpHeaders</code></a> type.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>To set the response body content as a byte array, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/ResponseBody.java" target="_blank" rel="noopener"><code>@ResponseBody</code></a> annotation.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After creating model classes, it is necessary to create an HTTP request handler that uses the following models:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final class MicroService {

    @POST("/")
    CompletableFuture&lt;Response&gt; handle(final Request request) {
        return completedFuture(new Response(
                201,
                request.getHttpVersion(),
                HttpHeaders.of(
                        "Remote-Address", request.getRemoteAddress1(),
                        "Url-Path", request.getUrlPath(),
                        "Method", request.getMethod(),
                        "Custom-Header", request.getHeaders().getValue("Custom-Header")
                ),
                request.getBodyBytes()
        ));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After creating the REST controller, let&#8217;s check that everything works:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(MicroService.class)
final class MicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    @Test
    void Should_support_internal_types() {
        final Object body = jsonObject("message", "Hello World!");
        final ClientHttpResponse response = blockingHttpClient.post(
                "/",
                HttpHeaders.of("Custom-Header", "Custom-Value"),
                body
        );

        assertEquals(body, response.getBody());
        assertEquals(201, response.getStatusCode());
        assertSame(HTTP_1_1, response.getVersion());
        final HttpHeaders responseHeaders = response.getHeaders();
        final String remoteAddress = responseHeaders.getValue("Remote-Address");
        assertTrue(
                remoteAddress.contains("127.0.0.1"),
                "Invalid Remote-Address: " + remoteAddress
        );
        assertEquals("/", responseHeaders.getValue("Url-Path"));
        assertEquals("POST", responseHeaders.getValue("Method"));
        assertEquals("Custom-Value", responseHeaders.getValue("Custom-Header"));
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-internals" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-internals</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="supported_internal_data_types"><a class="anchor" href="#supported_internal_data_types"></a><a class="link" href="#supported_internal_data_types">12.2. Supported Internal Data Types</a></h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Supported internal data types for a request model.</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Java type</strong></th>
<th class="tableblock halign-left valign-top"><strong>RxMicro Annotation</strong></th>
<th class="tableblock halign-left valign-top"><strong>Is the annotation required?</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest-server/src/main/java/io/rxmicro/rest/server/detail/model/HttpRequest.java" target="_blank" rel="noopener"><code>HttpRequest</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP request model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/HttpVersion.java" target="_blank" rel="noopener"><code>HttpVersion</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP protocol version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/HttpHeaders.java" target="_blank" rel="noopener"><code>HttpHeaders</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP header model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/SocketAddress.html" target="_blank" rel="noopener"><code>SocketAddress</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RemoteAddress.java" target="_blank" rel="noopener"><code>@RemoteAddress</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>No</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote client address</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" target="_blank" rel="noopener"><code>String</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RemoteAddress.java" target="_blank" rel="noopener"><code>@RemoteAddress</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Yes</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote client address</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" target="_blank" rel="noopener"><code>String</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RequestUrlPath.java" target="_blank" rel="noopener"><code>@RequestUrlPath</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Yes</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL Path of the current request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" target="_blank" rel="noopener"><code>String</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RequestMethod.java" target="_blank" rel="noopener"><code>@RequestMethod</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Yes</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP request method</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byte[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/RequestBody.java" target="_blank" rel="noopener"><code>@RequestBody</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Yes</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP request body content</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Currently only <code>1.0</code> and <code>1.1</code> HTTP versions are supported.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Supported internal data types for a response model.</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Java type</strong></th>
<th class="tableblock halign-left valign-top"><strong>RxMicro Annotation</strong></th>
<th class="tableblock halign-left valign-top"><strong>Is the annotation required?</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/HttpVersion.java" target="_blank" rel="noopener"><code>HttpVersion</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP protocol version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/HttpHeaders.java" target="_blank" rel="noopener"><code>HttpHeaders</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP header model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html" target="_blank" rel="noopener"><code>Integer</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/ResponseStatusCode.java" target="_blank" rel="noopener"><code>@ResponseStatusCode</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Yes</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP response status code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byte[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/ResponseBody.java" target="_blank" rel="noopener"><code>@ResponseBody</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Yes</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP response body content</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-versioning-section"><a class="anchor" href="#rest-controller-versioning-section"></a><a class="link" href="#rest-controller-versioning-section">13. Versioning of REST Controllers</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The RxMicro framework supports versioning of REST Controllers using two strategies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Versioning based on HTTP header analysis with the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/HttpStandardHeaderNames.java#L406" target="_blank" rel="noopener"><code>Api-Version</code></a> name.</p>
</li>
<li>
<p>Versioning based on URL Path fragment analysis.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="versioning_based_on_http_header_analysis"><a class="anchor" href="#versioning_based_on_http_header_analysis"></a><a class="link" href="#versioning_based_on_http_header_analysis">13.1. Versioning Based on HTTP Header Analysis</a></h3>
<div class="paragraph">
<p>The RxMicro framework allows creating identical REST controllers that differ only in version:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Version(value = "v1", strategy = Version.Strategy.HEADER) <i class="conum" data-value="1"></i><b>(1)</b>
final class OldMicroService {

    @PATCH("/patch")
    void update() {
        System.out.println("old");
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>REST controller of the old <code>v1</code> version, using the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/Version.java#L89" target="_blank" rel="noopener"><code>Version.Strategy.HEADER</code></a> strategy;</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Version(value = "v2", strategy = Version.Strategy.HEADER) <i class="conum" data-value="1"></i><b>(1)</b>
final class NewMicroService {

    @PATCH("/patch")
    void update() {
        System.out.println("new");
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>REST controller of the new <code>v2</code> version, using the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/Version.java#L89" target="_blank" rel="noopener"><code>Version.Strategy.HEADER</code></a> strategy;</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Note that the rules for defining a handler are the same for two different classes!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The correct selection of the appropriate REST controller handler can be checked with the following test:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest({OldMicroService.class, NewMicroService.class}) <i class="conum" data-value="1"></i><b>(1)</b>
final class MicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    private SystemOut systemOut;

    @ParameterizedTest
    @CsvSource({
            "v1,    old",
            "v2,    new"
    })
    void Should_route_to_valid_request_handler(final String versionHeaderValue,
                                               final String expectedOut) {
        blockingHttpClient.patch(
                "/patch",    <i class="conum" data-value="2"></i><b>(2)</b>
                HttpHeaders.of(
                        API_VERSION, <i class="conum" data-value="3"></i><b>(3)</b>
                        versionHeaderValue
                )
        );

        assertEquals(expectedOut, systemOut.asString());
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <a href="testing.html#testing-rest-based-microservice-tests-section"><code>@RxMicroRestBasedMicroServiceTest</code></a> annotation allows You to run several REST controllers in test mode.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The test runs the <code>PATCH</code> request to a URL Path: <code>/</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>To specify the handler version, the standard
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-http/src/main/java/io/rxmicro/http/HttpStandardHeaderNames.java#L406" target="_blank" rel="noopener"><code>Api-Version</code></a> HTTP header is used.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If only REST controllers of a certain version need to be tested, then the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-test/src/main/java/io/rxmicro/test/BlockingHttpClient.java" target="_blank" rel="noopener"><code>BlockingHttpClient</code></a>
component can be set up for operation of only certain versions of REST controller using the <a href="testing.html#testing-BlockingHttpClient-settings-section"><code>@BlockingHttpClientSettings</code> annotation.</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-versioning-header" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-versioning-header</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="versioning_based_on_url_path_fragment_analysis"><a class="anchor" href="#versioning_based_on_url_path_fragment_analysis"></a><a class="link" href="#versioning_based_on_url_path_fragment_analysis">13.2. Versioning Based on URL Path Fragment Analysis</a></h3>
<div class="paragraph">
<p>The RxMicro framework allows creating identical REST controllers that differ only in version:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Version(value = "v1", strategy = Version.Strategy.URL_PATH) <i class="conum" data-value="1"></i><b>(1)</b>
final class OldMicroService {

    @PATCH("/patch")
    void update() {
        System.out.println("old");
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>REST controller of the old <code>v1</code> version, using the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/Version.java#L70" target="_blank" rel="noopener"><code>Version.Strategy.URL_PATH</code></a> strategy;</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Version(value = "v2", strategy = Version.Strategy.URL_PATH) <i class="conum" data-value="1"></i><b>(1)</b>
final class NewMicroService {

    @PATCH("/patch")
    void update() {
        System.out.println("new");
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>REST controller of the new <code>v2</code> version, using the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/Version.java#L70" target="_blank" rel="noopener"><code>Version.Strategy.URL_PATH</code></a> strategy;</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Note that the rules for defining a handler are the same for two different classes!</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The correct selection of the appropriate REST controller handler can be checked with the following test:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest({OldMicroService.class, NewMicroService.class}) <i class="conum" data-value="1"></i><b>(1)</b>
final class MicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    private SystemOut systemOut;

    @ParameterizedTest
    @CsvSource({
            "/v1,    old",
            "/v2,    new"
    })
    void Should_route_to_valid_request_handler(final String urlVersionPath,
                                               final String expectedOut) {
        blockingHttpClient.patch(
                urlVersionPath + "/patch"    <i class="conum" data-value="2"></i><b>(2)</b>
        );

        assertEquals(expectedOut, systemOut.asString());
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <a href="testing.html#testing-rest-based-microservice-tests-section"><code>@RxMicroRestBasedMicroServiceTest</code></a> annotation allows You to run several REST controllers in test mode.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The test runs the <code>PATCH</code> request to different URL Paths;</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If only REST controllers of a certain version need to be tested, then the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-test/src/main/java/io/rxmicro/test/BlockingHttpClient.java" target="_blank" rel="noopener"><code>BlockingHttpClient</code></a>
component can be set up for operation of only certain versions of REST controller using the <a href="testing.html#testing-BlockingHttpClient-settings-section"><code>@BlockingHttpClientSettings</code> annotation.</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-versioning-url-path" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-versioning-url-path</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-base-url-path-section"><a class="anchor" href="#rest-controller-base-url-path-section"></a><a class="link" href="#rest-controller-base-url-path-section">14. Base URL Path for All Handlers</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>To configure a base URL Path for all HTTP request handlers, the RxMicro framework provides the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest/src/main/java/io/rxmicro/rest/BaseUrlPath.java" target="_blank" rel="noopener"><code>@BaseUrlPath</code></a> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@BaseUrlPath("base-url-path")
final class MicroService {

    @GET("/path")
    void path() {
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(MicroService.class)
final class MicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    @Test
    void Should_support_base_url() {
        final ClientHttpResponse response = blockingHttpClient.get("/base-url-path/path");

        assertEquals(200, response.getStatusCode());
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-base-url-path" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-base-url-path</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-cors-section"><a class="anchor" href="#rest-controller-cors-section"></a><a class="link" href="#rest-controller-cors-section">15. <code>CORS</code> Support</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The RxMicro framework supports the <a href="https://developer.mozilla.org/ru/docs/Web/HTTP/CORS" target="_blank" rel="noopener"><code>Cross Origin Resource Sharing (CORS)</code></a>.</p>
</div>
<div class="paragraph">
<p>To activate this function it is necessary to add the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest-server/src/main/java/io/rxmicro/rest/server/feature/EnableCrossOriginResourceSharing.java" target="_blank" rel="noopener"><code>@EnableCrossOriginResourceSharing</code></a> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@EnableCrossOriginResourceSharing <i class="conum" data-value="1"></i><b>(1)</b>
final class MicroService {

    @PATCH("/")
    void handle() {
        System.out.println("handle");
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <a href="https://developer.mozilla.org/ru/docs/Web/HTTP/CORS" target="_blank" rel="noopener"><code>Cross Origin Resource Sharing (CORS)</code></a> feature is activated for <strong>all</strong> handlers of the specified REST controller.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When activating this feature, the RxMicro framework automatically adds a standard handler:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@RxMicroRestBasedMicroServiceTest(MicroService.class)
final class MicroServiceTest {

    private BlockingHttpClient blockingHttpClient;

    private SystemOut systemOut;

    @Test
    void Should_handle_PATCH_request() {
        blockingHttpClient.patch("/");

        assertEquals("handle", systemOut.asString());
    }

    <i class="conum" data-value="1"></i><b>(1)</b>
    @Test
    void Should_support_CORS_Options_request() {
        final ClientHttpResponse response = blockingHttpClient.options(
                "/",
                HttpHeaders.of(
                        ORIGIN, "test.rxmicro.io",
                        ACCESS_CONTROL_REQUEST_METHOD, PATCH
                )
        );

        assertEquals(ORIGIN, response.getHeaders().getValue(VARY));
        assertEquals("*", response.getHeaders().getValue(ACCESS_CONTROL_ALLOW_ORIGIN));
        assertEquals(PATCH.name(), response.getHeaders().getValue(ACCESS_CONTROL_ALLOW_METHODS));
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The standard handler can handle <code>OPTIONS</code> requests with additional HTTP headers.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For more information on the <a href="https://developer.mozilla.org/ru/docs/Web/HTTP/CORS" target="_blank" rel="noopener"><code>Cross Origin Resource Sharing (CORS)</code></a> support, check out the following examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/rxmicro/rxmicro-usage/blob/master/examples/group-rest-controller/rest-controller-cors/src/main/java/io/rxmicro/examples/rest/controller/cors/ComplexCORSMicroService.java" target="_blank" rel="noopener"><code>ComplexCORSMicroService.java</code></a></p>
</li>
<li>
<p><a href="https://github.com/rxmicro/rxmicro-usage/blob/master/examples/group-rest-controller/rest-controller-cors/src/test/java/io/rxmicro/examples/rest/controller/cors/ComplexCORSMicroServiceTest.java" target="_blank" rel="noopener"><code>ComplexCORSMicroServiceTest.java</code></a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The project source code used in the current subsection is available at the following link:</p>
</div>
<div class="paragraph example-code-link">
<p><a href="https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-cors" target="_blank" rel="noopener"><code>https://github.com/rxmicro/rxmicro-usage/tree/master/examples/group-rest-controller/rest-controller-cors</code></a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When compiling, the RxMicro framework searches for <code>RxMicro Annotations</code> in the source code and generates additional classes necessary for the integral work of the microservice.</p>
</div>
<div class="paragraph">
<p><strong>When changing the <code>RxMicro Annotations</code> in the source code, DON&#8217;T FORGET to recompile the ALL source code, not just the changed file, for the changes to take effect:</strong> <code>mvn clean compile</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-request-id-section"><a class="anchor" href="#rest-controller-request-id-section"></a><a class="link" href="#rest-controller-request-id-section">16. Request ID</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Request Id feature described at <a href="monitoring.html#monitoring-request-id-section">Monitoring</a> section.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="rest-controller-rest-server-generator-config-section"><a class="anchor" href="#rest-controller-rest-server-generator-config-section"></a><a class="link" href="#rest-controller-rest-server-generator-config-section">17. Configuring the Code Generation Process</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The RxMicro framework provides an ability to configure the code generation process for REST controllers.
For this purpose, it is necessary to use the
<a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest-server/src/main/java/io/rxmicro/rest/server/RestServerGeneratorConfig.java" target="_blank" rel="noopener"><code>@RestServerGeneratorConfig</code></a>
annotation, that annotates the <code>module-info.java</code> module descriptor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">import io.rxmicro.rest.model.GenerateOption;
import io.rxmicro.rest.model.ServerExchangeFormatModule;
import io.rxmicro.rest.server.RestServerGeneratorConfig;

@RestServerGeneratorConfig(
        exchangeFormat = ServerExchangeFormatModule.AUTO_DETECT, <i class="conum" data-value="1"></i><b>(1)</b>
        generateRequestValidators = GenerateOption.AUTO_DETECT,  <i class="conum" data-value="2"></i><b>(2)</b>
        generateResponseValidators = GenerateOption.DISABLED     <i class="conum" data-value="3"></i><b>(3)</b>
)
module rest.controller.generator {
    requires rxmicro.rest.server.netty;
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>exchangeFormat</code> parameter allows You to specify a format for message exchange with a client.<br>
<em>(By default, it is used the message exchange format added to the <code>module-info.java</code> descriptor.
If several modules supporting the message exchange format are added to the <code>module-info.java</code> descriptor, then using the <code>exchangeFormat</code> parameter, You need to specify which module should be used for REST controllers.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>generateRequestValidators</code> parameter allows enabling/disabling the option of generating HTTP request validators for all handlers in the project.
<em>(The <code>AUTO_DETECT</code> value means that validators will be generated only if the developer adds the <a href="validation.html#validation-section"><code>rxmicro.validation</code></a> module to the <code>module-info.java</code> descriptor.)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>generateResponseValidators</code> parameter allows enabling/disabling the option of generating HTTP response validators for all handlers in the project.
<em>(The <code>DISABLED</code> value means that validators won&#8217;t be generated by the <code>RxMicro Annotation Processor</code>.)</em></td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The RxMicro team strong recommends using the <code>AUTO_DETECT</code> generate option always!
(This is default value for <a href="https://github.com/rxmicro/rxmicro/blob/v0.11/rxmicro-rest-server/src/main/java/io/rxmicro/rest/server/RestServerGeneratorConfig.java" target="_blank" rel="noopener"><code>@RestServerGeneratorConfig</code></a> annotation).</p>
</div>
<div class="paragraph">
<p><em>(HTTP response validation can be useful for identifying errors in business task implementation algorithms.
For example, instead of returning an incorrect response model to a client, the microservice will throw an error.
This approach increases the speed of error search and debugging of the source code that performs the business task.)</em></p>
</div>
<div class="paragraph">
<p><strong>FYI:</strong> By default the response validators are generated but not invoked!
To activate the validation of responses it is necessary to set <code>enableAdditionalValidations</code> property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">new Configs.Builder()
        .withConfigs(new RestServerConfig()
                .setEnableAdditionalValidations(true)) <i class="conum" data-value="1"></i><b>(1)</b>
        .build();</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enables the response validators</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">export rest-server.enableAdditionalValidations=true <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enables the response validators</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>or using any other <a href="core.html#core-config-types">supported config types</a></p>
</div>
<div class="paragraph">
<p>Thus the RxMicro team recommends the following approach:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Your project configuration must enable generation of validators for all possible model classes.</p>
</li>
<li>
<p>Your <code>development</code> and <code>staging</code> environment must enable additional validation.</p>
</li>
<li>
<p>Your <code>production</code> environment must disable additional validation!</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="core.html#core-section"><strong><span class="icon"><i class="fa fa-angle-double-left"></i></span> Core Concepts</strong></a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="index.html#index-section"><strong><span class="icon"><i class="fa fa-angle-double-up"></i></span> Home</strong></a></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><a href="rest-client.html#rest-client-section"><strong>REST Client  <span class="icon"><i class="fa fa-angle-double-right"></i></span></strong></a></p></td>
</tr>
</tbody>
</table>
<hr>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-166298262-2"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-166298262-2');
</script>
</div>
</div>
</div>
</body>
</html>